<!-- ns-3 doxygen header, based on
     HTML header for doxygen 1.8.3.1
     Verified compatible with 1.8.6
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<title>ns-3: ns3::Sink Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ns3_stylesheet.css" rel="stylesheet" type="text/css"/>
    <link href="favicon.ico" rel="shortcut icon" type="image/ico"></link>
    <script type="text/javascript" src="drop-down-menu.js"></script>
    <script type="text/javascript" src="ns3_version.js"></script>
    <script type="text/javascript" src="ns3_links.js"></script>
  </head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
	<table cellspacing="0" cellpadding="0" width="100%">
	  <tbody>
	    <tr style="height: 56px;">
	      <td id="projectlogo">
		<a id="ns3_home1"
		  href="http://www.nsnam.org/">
		  <img alt="ns-3 Logo"
		    src="ns-3-inverted-notext-small.png"/>
		</a>
	      </td>
	      <td id="projecttext">
		<div id="projectbrief">A Discrete-Event Network Simulator</div>
		<span id="projectnumber"><script type="text/javascript">document.write(ns3_version)</script></span>
	      </td>
	      <td id="ns3-menu">
		<div class="menu">
		  <ul >
		    <li><a id="ns3_home2"
			href="http://www.nsnam.org/"
			>&nbsp;&nbsp;Home</a>
		    </li>
		    <li><span
			onmouseover="mopen('mTuts')" 
			onmouseout="mclosetime()"
			>Tutorials &nbsp;&#x25BC;</span>
		      <div id="mTuts" 
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
			<a id="ns3_tut"
			  href="/docs/tutorial/html/index.html"
			  >English</a><br/>
		    </li>
		    <li><span
			onmouseover="mopen('mDocs')" 
			onmouseout="mclosetime()"
			>Docs &nbsp;&nbsp;&nbsp;&#x25BC;</span>
		      <div id="mDocs"
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
			<a id="ns3_wiki"
			  href="http://www.nsnam.org/wiki"
			  >Wiki</a><br/>
			<a id="ns3_man"
			    href="/docs/manual/html/index.html"
			    >Manual</a><br/>
			<a id="ns3_mod"
			   href="/docs/models/html/index.html"
			   >Models</a><br/>
		    </li>
		    <li><span
			onmouseover="mopen('mDev')" 
			onmouseout="mclosetime()"
			>Develop &#x25BC;</span>
		      <div id="mDev"
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
			<a id="ns3_api"
			   href="/docs/doxygen/index.html"
			   >API</a><br/>
			<a id="ns3_bugs"
			   href="http://www.nsnam.org/bugzilla/">Bugs</a>
		    </li>
		  </ul>
		</div>
	      </td>
	      <td id="projectsection">
		<span style="margin-right:10px">API</span>
	      </td>
	    </tr>
	  </tbody>
	</table>
	<script  type="text/javascript">ns3_write_links();</script>
      </div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classns3_1_1_sink.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classns3_1_1_sink-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ns3::Sink Class Reference<div class="ingroups"><a class="el" href="group__node-application.html">Node-application</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The application of the sink node. The node that generates onion messagess.  
 <a href="classns3_1_1_sink.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="sink_8h_source.html">sink.h</a>&quot;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for ns3::Sink:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classns3_1_1_sink__inherit__graph.png" border="0" usemap="#ns3_1_1_sink_inherit__map" alt="Inheritance graph"/></div>
<map name="ns3_1_1_sink_inherit__map" id="ns3_1_1_sink_inherit__map">
<area shape="rect" title="The application of the sink node. The node that generates onion messagess." alt="" coords="25,155,106,181"/>
<area shape="rect" href="classns3_1_1_wsn__node.html" title="The wsn node base class that manages the sending and receiving of packets and basic configuration of ..." alt="" coords="5,80,125,107"/>
<area shape="rect" title=" " alt="" coords="18,5,113,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for ns3::Sink:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classns3_1_1_sink__coll__graph.png" border="0" usemap="#ns3_1_1_sink_coll__map" alt="Collaboration graph"/></div>
<map name="ns3_1_1_sink_coll__map" id="ns3_1_1_sink_coll__map">
<area shape="rect" title="The application of the sink node. The node that generates onion messagess." alt="" coords="321,816,403,843"/>
<area shape="rect" href="classns3_1_1_wsn__node.html" title="The wsn node base class that manages the sending and receiving of packets and basic configuration of ..." alt="" coords="134,719,254,746"/>
<area shape="rect" title=" " alt="" coords="5,623,100,649"/>
<area shape="rect" href="classns3_1_1_onion_manager.html" title="Class that manages encryption keys and the encryption and decryption of layers of onion messagess The..." alt="" coords="124,623,272,649"/>
<area shape="rect" href="classns3_1_1_onion_routing.html" title="Abstract class for creation and decryption of Onion messages." alt="" coords="127,526,269,553"/>
<area shape="rect" title=" " alt="" coords="127,429,191,456"/>
<area shape="rect" title="STL class." alt="" coords="239,429,373,456"/>
<area shape="rect" title="STL class." alt="" coords="219,339,393,380"/>
<area shape="rect" title="STL class." alt="" coords="231,248,381,289"/>
<area shape="rect" title="STL class." alt="" coords="153,157,294,199"/>
<area shape="rect" title="STL class." alt="" coords="221,81,391,108"/>
<area shape="rect" title="STL class." alt="" coords="319,157,464,199"/>
<area shape="rect" title="STL class." alt="" coords="253,5,359,32"/>
<area shape="rect" title=" " alt="" coords="505,712,656,753"/>
<area shape="rect" title="STL class." alt="" coords="464,623,551,649"/>
<area shape="rect" title="STL class." alt="" coords="438,519,577,560"/>
<area shape="rect" title="STL class." alt="" coords="575,623,709,649"/>
<area shape="rect" title=" " alt="" coords="612,526,651,553"/>
<area shape="rect" title=" " alt="" coords="677,526,716,553"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6a02ca171006da070267bafee4e34afc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#a6a02ca171006da070267bafee4e34afc">Sink</a> ()</td></tr>
<tr class="memdesc:a6a02ca171006da070267bafee4e34afc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="classns3_1_1_sink.html#a6a02ca171006da070267bafee4e34afc">More...</a><br /></td></tr>
<tr class="separator:a6a02ca171006da070267bafee4e34afc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8b857234707998f0437c83b2b2944bd"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#aa8b857234707998f0437c83b2b2944bd">~Sink</a> ()</td></tr>
<tr class="memdesc:aa8b857234707998f0437c83b2b2944bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default destructor.  <a href="classns3_1_1_sink.html#aa8b857234707998f0437c83b2b2944bd">More...</a><br /></td></tr>
<tr class="separator:aa8b857234707998f0437c83b2b2944bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a828baaddc6bd9c862ca1eab675a2cc8b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#a828baaddc6bd9c862ca1eab675a2cc8b">Accept</a> (Ptr&lt; Socket &gt; socket, const ns3::Address &amp;from)</td></tr>
<tr class="memdesc:a828baaddc6bd9c862ca1eab675a2cc8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accept new TCP connections.  <a href="classns3_1_1_sink.html#a828baaddc6bd9c862ca1eab675a2cc8b">More...</a><br /></td></tr>
<tr class="separator:a828baaddc6bd9c862ca1eab675a2cc8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb3593f0c5e1037d8a6cb429ff114b2e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#adb3593f0c5e1037d8a6cb429ff114b2e">CheckOnion</a> (void)</td></tr>
<tr class="memdesc:adb3593f0c5e1037d8a6cb429ff114b2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Each five seconds call the <a class="el" href="classns3_1_1_onion_validator.html" title="Class shared between wsn nodes used to track how the onion is transiting in the WSN The class uses tw...">ns3::OnionValidator</a> and check if at least one onion message is alive Otherwise the onion was aborted, decrease the value of <code>m_repeateCount</code> and schedule a new execution of the function <a class="el" href="classns3_1_1_sink.html#a4a2b4bb96ca5a7f87779c9debe616c49" title="Schedule the creation of a new onion based on the path length specified in m_onionPathLengths If all ...">ns3::Sink::SinkTasks()</a>  <a href="classns3_1_1_sink.html#adb3593f0c5e1037d8a6cb429ff114b2e">More...</a><br /></td></tr>
<tr class="separator:adb3593f0c5e1037d8a6cb429ff114b2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae18a8374a6ab08eebf18ecf11e944b70"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#ae18a8374a6ab08eebf18ecf11e944b70">Setup</a> (uint16_t *onionPathlengths, uint16_t numOnionLengths, int repeateTimes)</td></tr>
<tr class="memdesc:ae18a8374a6ab08eebf18ecf11e944b70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup sink node parameters after the application installation.  <a href="classns3_1_1_sink.html#ae18a8374a6ab08eebf18ecf11e944b70">More...</a><br /></td></tr>
<tr class="separator:ae18a8374a6ab08eebf18ecf11e944b70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a2b4bb96ca5a7f87779c9debe616c49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#a4a2b4bb96ca5a7f87779c9debe616c49">SinkTasks</a> ()</td></tr>
<tr class="memdesc:a4a2b4bb96ca5a7f87779c9debe616c49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedule the creation of a new onion based on the path length specified in <code>m_onionPathLengths</code> If all onions specified in <code>m_onionPathLengths</code> were executed for <code>m_repeateTimes</code> Then end the simulation.  <a href="classns3_1_1_sink.html#a4a2b4bb96ca5a7f87779c9debe616c49">More...</a><br /></td></tr>
<tr class="separator:a4a2b4bb96ca5a7f87779c9debe616c49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classns3_1_1_wsn__node"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classns3_1_1_wsn__node')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classns3_1_1_wsn__node.html">ns3::Wsn_node</a></td></tr>
<tr class="memitem:ac2f093fc9896458575cb1dc5d8c6a977 inherit pub_methods_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#ac2f093fc9896458575cb1dc5d8c6a977">Wsn_node</a> ()</td></tr>
<tr class="memdesc:ac2f093fc9896458575cb1dc5d8c6a977 inherit pub_methods_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="classns3_1_1_wsn__node.html#ac2f093fc9896458575cb1dc5d8c6a977">More...</a><br /></td></tr>
<tr class="separator:ac2f093fc9896458575cb1dc5d8c6a977 inherit pub_methods_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9972d50d28c4786fb58a30cdf1cb750 inherit pub_methods_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#af9972d50d28c4786fb58a30cdf1cb750">ActivateNode</a> ()</td></tr>
<tr class="memdesc:af9972d50d28c4786fb58a30cdf1cb750 inherit pub_methods_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method re-activates a node that was disabled using the <a class="el" href="classns3_1_1_wsn__node.html#a698f1f61cf92c446759410840676d4a4" title="The method disables the node.">DisableNode()</a> method.  <a href="classns3_1_1_wsn__node.html#af9972d50d28c4786fb58a30cdf1cb750">More...</a><br /></td></tr>
<tr class="separator:af9972d50d28c4786fb58a30cdf1cb750 inherit pub_methods_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8dc6dffc09f815bc2861013cef6d60b inherit pub_methods_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#af8dc6dffc09f815bc2861013cef6d60b">CheckSentOnion</a> (int count)</td></tr>
<tr class="memdesc:af8dc6dffc09f815bc2861013cef6d60b inherit pub_methods_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method checks if the onion was received by the next receiving node If the onion was not received then abort the current onion and schedule the sending of another onion with equal parametrs as the aborted onion.  <a href="classns3_1_1_wsn__node.html#af8dc6dffc09f815bc2861013cef6d60b">More...</a><br /></td></tr>
<tr class="separator:af8dc6dffc09f815bc2861013cef6d60b inherit pub_methods_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48a4550a348bf3e8a4b7947ecce6663a inherit pub_methods_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#a48a4550a348bf3e8a4b7947ecce6663a">Configure</a> (void)</td></tr>
<tr class="memdesc:a48a4550a348bf3e8a4b7947ecce6663a inherit pub_methods_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">1.  <a href="classns3_1_1_wsn__node.html#a48a4550a348bf3e8a4b7947ecce6663a">More...</a><br /></td></tr>
<tr class="separator:a48a4550a348bf3e8a4b7947ecce6663a inherit pub_methods_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a698f1f61cf92c446759410840676d4a4 inherit pub_methods_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#a698f1f61cf92c446759410840676d4a4">DisableNode</a> ()</td></tr>
<tr class="memdesc:a698f1f61cf92c446759410840676d4a4 inherit pub_methods_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method disables the node.  <a href="classns3_1_1_wsn__node.html#a698f1f61cf92c446759410840676d4a4">More...</a><br /></td></tr>
<tr class="separator:a698f1f61cf92c446759410840676d4a4 inherit pub_methods_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac323b002c0fe514db0810db5e07baa13 inherit pub_methods_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#ac323b002c0fe514db0810db5e07baa13">getNodeDelay</a> (Ipv4Address node_address)</td></tr>
<tr class="memdesc:ac323b002c0fe514db0810db5e07baa13 inherit pub_methods_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">compute when the node should start the handshake process from the node ip address Used to not generate a network congestion if all nodes will strat the handshake at the same time  <a href="classns3_1_1_wsn__node.html#ac323b002c0fe514db0810db5e07baa13">More...</a><br /></td></tr>
<tr class="separator:ac323b002c0fe514db0810db5e07baa13 inherit pub_methods_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e6fbe18b7b701bf3845a17e749fe80a inherit pub_methods_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#a8e6fbe18b7b701bf3845a17e749fe80a">NodeDegree</a> (double coord_x, double coord_y)</td></tr>
<tr class="memdesc:a8e6fbe18b7b701bf3845a17e749fe80a inherit pub_methods_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the degreee this node from the OLSR routing protocol.  <a href="classns3_1_1_wsn__node.html#a8e6fbe18b7b701bf3845a17e749fe80a">More...</a><br /></td></tr>
<tr class="separator:a8e6fbe18b7b701bf3845a17e749fe80a inherit pub_methods_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a9260067f89d4b6ea170ca2cbf86293 inherit pub_methods_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#a4a9260067f89d4b6ea170ca2cbf86293">NotifyRx</a> (Ptr&lt; const Packet &gt; packet)</td></tr>
<tr class="memdesc:a4a9260067f89d4b6ea170ca2cbf86293 inherit pub_methods_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call to signal the receipt of a <code>Packet</code> at the application layer.  <a href="classns3_1_1_wsn__node.html#a4a9260067f89d4b6ea170ca2cbf86293">More...</a><br /></td></tr>
<tr class="separator:a4a9260067f89d4b6ea170ca2cbf86293 inherit pub_methods_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3542bef0929d36d6ea4a4c473e819a35 inherit pub_methods_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#a3542bef0929d36d6ea4a4c473e819a35">NotifyTx</a> (Ptr&lt; const Packet &gt; packet)</td></tr>
<tr class="memdesc:a3542bef0929d36d6ea4a4c473e819a35 inherit pub_methods_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call to signal the transmission of a <code>Packet</code> at the application layer.  <a href="classns3_1_1_wsn__node.html#a3542bef0929d36d6ea4a4c473e819a35">More...</a><br /></td></tr>
<tr class="separator:a3542bef0929d36d6ea4a4c473e819a35 inherit pub_methods_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa616fc616e90993adc19139c5b9f19d0 inherit pub_methods_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#aa616fc616e90993adc19139c5b9f19d0">OnionReceived</a> (void)</td></tr>
<tr class="memdesc:aa616fc616e90993adc19139c5b9f19d0 inherit pub_methods_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal to the <a class="el" href="classns3_1_1_onion_validator.html" title="Class shared between wsn nodes used to track how the onion is transiting in the WSN The class uses tw...">ns3::OnionValidator</a> that the onion was corrctly received.  <a href="classns3_1_1_wsn__node.html#aa616fc616e90993adc19139c5b9f19d0">More...</a><br /></td></tr>
<tr class="separator:aa616fc616e90993adc19139c5b9f19d0 inherit pub_methods_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d9c47229fd6a915a6eb26b740bdb387 inherit pub_methods_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">Ptr&lt; Packet &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#a5d9c47229fd6a915a6eb26b740bdb387">RecvSeg</a> (Ptr&lt; Socket &gt; socket, Ptr&lt; Packet &gt; p, Address from)</td></tr>
<tr class="memdesc:a5d9c47229fd6a915a6eb26b740bdb387 inherit pub_methods_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">method for receiving packets able to merge segment fragments if a packet was split into multiple segments due to being larger than the MSS Use the packet tag, to merge packet fragments into a single packet.  <a href="classns3_1_1_wsn__node.html#a5d9c47229fd6a915a6eb26b740bdb387">More...</a><br /></td></tr>
<tr class="separator:a5d9c47229fd6a915a6eb26b740bdb387 inherit pub_methods_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0357269d4a513854b1b04cc91d57b5f inherit pub_methods_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">Ptr&lt; Packet &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#aa0357269d4a513854b1b04cc91d57b5f">RecvSegment</a> (Ptr&lt; Socket &gt; socket)</td></tr>
<tr class="memdesc:aa0357269d4a513854b1b04cc91d57b5f inherit pub_methods_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">method for receiving a segment calls <a class="el" href="classns3_1_1_wsn__node.html#a5d9c47229fd6a915a6eb26b740bdb387" title="method for receiving packets able to merge segment fragments if a packet was split into multiple segm...">ns3::Wsn_node::RecvSeg()</a>  <a href="classns3_1_1_wsn__node.html#aa0357269d4a513854b1b04cc91d57b5f">More...</a><br /></td></tr>
<tr class="separator:aa0357269d4a513854b1b04cc91d57b5f inherit pub_methods_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc04742f71fcc85cc0bbc59f00d2b010 inherit pub_methods_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">Ptr&lt; Packet &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#adc04742f71fcc85cc0bbc59f00d2b010">RecvSegment</a> (Ptr&lt; Socket &gt; socket, Address &amp;from)</td></tr>
<tr class="memdesc:adc04742f71fcc85cc0bbc59f00d2b010 inherit pub_methods_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">method for receiving a segment calls <a class="el" href="classns3_1_1_wsn__node.html#a5d9c47229fd6a915a6eb26b740bdb387" title="method for receiving packets able to merge segment fragments if a packet was split into multiple segm...">ns3::Wsn_node::RecvSeg()</a>  <a href="classns3_1_1_wsn__node.html#adc04742f71fcc85cc0bbc59f00d2b010">More...</a><br /></td></tr>
<tr class="separator:adc04742f71fcc85cc0bbc59f00d2b010 inherit pub_methods_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02a8a79729b3e6f10be94bd21e01358f inherit pub_methods_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#a02a8a79729b3e6f10be94bd21e01358f">SendSegment</a> (InetSocketAddress remote, Ptr&lt; Packet &gt; packet, bool b_onion)</td></tr>
<tr class="memdesc:a02a8a79729b3e6f10be94bd21e01358f inherit pub_methods_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a packet through a TCP connection to the remote address.  <a href="classns3_1_1_wsn__node.html#a02a8a79729b3e6f10be94bd21e01358f">More...</a><br /></td></tr>
<tr class="separator:a02a8a79729b3e6f10be94bd21e01358f inherit pub_methods_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4f902d72399ca6ecf59cb05d682a91c1"><td class="memItemLeft" align="right" valign="top">static TypeId&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#a4f902d72399ca6ecf59cb05d682a91c1">GetTypeId</a> (void)</td></tr>
<tr class="memdesc:a4f902d72399ca6ecf59cb05d682a91c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register this type.  <a href="classns3_1_1_sink.html#a4f902d72399ca6ecf59cb05d682a91c1">More...</a><br /></td></tr>
<tr class="separator:a4f902d72399ca6ecf59cb05d682a91c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classns3_1_1_wsn__node"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classns3_1_1_wsn__node')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classns3_1_1_wsn__node.html">ns3::Wsn_node</a></td></tr>
<tr class="memitem:ae8facf7b93cf72051448ffdfe6f8b850 inherit pub_static_methods_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">static TypeId&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#ae8facf7b93cf72051448ffdfe6f8b850">GetTypeId</a> (void)</td></tr>
<tr class="memdesc:ae8facf7b93cf72051448ffdfe6f8b850 inherit pub_static_methods_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register this type.  <a href="classns3_1_1_wsn__node.html#ae8facf7b93cf72051448ffdfe6f8b850">More...</a><br /></td></tr>
<tr class="separator:ae8facf7b93cf72051448ffdfe6f8b850 inherit pub_static_methods_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:afb970f60a50eeb59c9bbf77189716294"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#afb970f60a50eeb59c9bbf77189716294">PrepareOnion</a> (int *route, int routeLen)</td></tr>
<tr class="memdesc:afb970f60a50eeb59c9bbf77189716294"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method that constructs the onion head from <code>route</code> and <code>routeLen</code> parameters.  <a href="classns3_1_1_sink.html#afb970f60a50eeb59c9bbf77189716294">More...</a><br /></td></tr>
<tr class="separator:afb970f60a50eeb59c9bbf77189716294"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afed3482312048d13efa38d1235bbf504"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#afed3482312048d13efa38d1235bbf504">ReceivePacket</a> (Ptr&lt; Socket &gt; socket)</td></tr>
<tr class="memdesc:afed3482312048d13efa38d1235bbf504"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recieve a new packet from <code>socket</code> Check if the packet is a handshake packet or a packet containing an onion message.  <a href="classns3_1_1_sink.html#afed3482312048d13efa38d1235bbf504">More...</a><br /></td></tr>
<tr class="separator:afed3482312048d13efa38d1235bbf504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a643466bbfefcdec90e18492d8da1527c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#a643466bbfefcdec90e18492d8da1527c">RecvHandshake</a> (<a class="el" href="classprotomessage_1_1_proto_packet___handshake.html">protomessage::ProtoPacket_Handshake</a> *handshake_data, InetSocketAddress from)</td></tr>
<tr class="memdesc:a643466bbfefcdec90e18492d8da1527c"><td class="mdescLeft">&#160;</td><td class="mdescRight">When receiving a new handshake with a node.  <a href="classns3_1_1_sink.html#a643466bbfefcdec90e18492d8da1527c">More...</a><br /></td></tr>
<tr class="separator:a643466bbfefcdec90e18492d8da1527c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1580afa832d0c29fab74b36a386c5960"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#a1580afa832d0c29fab74b36a386c5960">RecvOnion</a> (<a class="el" href="classprotomessage_1_1_proto_packet___onion_body.html">protomessage::ProtoPacket_OnionBody</a> *onion_body)</td></tr>
<tr class="memdesc:a1580afa832d0c29fab74b36a386c5960"><td class="mdescLeft">&#160;</td><td class="mdescRight">Triggered when an onion message is received back at the sink node Data about the message is captured and a new onion message is scheduled.  <a href="classns3_1_1_sink.html#a1580afa832d0c29fab74b36a386c5960">More...</a><br /></td></tr>
<tr class="separator:a1580afa832d0c29fab74b36a386c5960"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a879a50c3cf9317ee869f855e7080d17d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#a879a50c3cf9317ee869f855e7080d17d">SelectRoute</a> (int *route, int routeLen)</td></tr>
<tr class="memdesc:a879a50c3cf9317ee869f855e7080d17d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method builds the path of the onion message by randomly selecting sensor nodes from the <code>m_nodeManager</code> structure.  <a href="classns3_1_1_sink.html#a879a50c3cf9317ee869f855e7080d17d">More...</a><br /></td></tr>
<tr class="separator:a879a50c3cf9317ee869f855e7080d17d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71e468d7136c559403186ea834bbb660"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#a71e468d7136c559403186ea834bbb660">SendOnion</a> (uint32_t firstHop, int routeLen, unsigned char *cipher, int cipherLen)</td></tr>
<tr class="memdesc:a71e468d7136c559403186ea834bbb660"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method constructs the onion message as a protobuf object.  <a href="classns3_1_1_sink.html#a71e468d7136c559403186ea834bbb660">More...</a><br /></td></tr>
<tr class="separator:a71e468d7136c559403186ea834bbb660"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59faa47e4235feac5d9be91842c82710"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#a59faa47e4235feac5d9be91842c82710">StartApplication</a> (void)</td></tr>
<tr class="memdesc:a59faa47e4235feac5d9be91842c82710"><td class="mdescLeft">&#160;</td><td class="mdescRight">1.Start the application run <a class="el" href="classns3_1_1_wsn__node.html#a48a4550a348bf3e8a4b7947ecce6663a" title="1.">ns3::Wsn_node::Configure()</a> 2.Generate new encryption keys 3.Set callback at new socket connection 4.Schedule the execution of <a class="el" href="classns3_1_1_sink.html#a4a2b4bb96ca5a7f87779c9debe616c49" title="Schedule the creation of a new onion based on the path length specified in m_onionPathLengths If all ...">ns3::Sink::SinkTasks()</a> after <code>m_onionDelay</code> milliseconds 5.Schedule the execution of <a class="el" href="classns3_1_1_sink.html#adb3593f0c5e1037d8a6cb429ff114b2e" title="Each five seconds call the ns3::OnionValidator and check if at least one onion message is alive Other...">ns3::Sink::CheckOnion()</a> after <code>m_onionDelay</code> milliseconds and 5 seconds  <a href="classns3_1_1_sink.html#a59faa47e4235feac5d9be91842c82710">More...</a><br /></td></tr>
<tr class="separator:a59faa47e4235feac5d9be91842c82710"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c2061091736bd8c8efe67f7cfa8638d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#a6c2061091736bd8c8efe67f7cfa8638d">StopApplication</a> (void)</td></tr>
<tr class="memdesc:a6c2061091736bd8c8efe67f7cfa8638d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the application.  <a href="classns3_1_1_sink.html#a6c2061091736bd8c8efe67f7cfa8638d">More...</a><br /></td></tr>
<tr class="separator:a6c2061091736bd8c8efe67f7cfa8638d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a89fd13f3d755eb807949da7da7851253"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group__enumerators.html#ga9bb9b9a40e4f68c0d6c38ca01b99b864">BodyOptions</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#a89fd13f3d755eb807949da7da7851253">m_bodyOptions</a></td></tr>
<tr class="separator:a89fd13f3d755eb807949da7da7851253"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcac6bd3a9ef341a1ba3c8e2462f2713"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#abcac6bd3a9ef341a1ba3c8e2462f2713">m_bodySize</a></td></tr>
<tr class="separator:abcac6bd3a9ef341a1ba3c8e2462f2713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f719a36cba9ad325f1b8778c6582942"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#a7f719a36cba9ad325f1b8778c6582942">m_decoyNum</a></td></tr>
<tr class="memdesc:a7f719a36cba9ad325f1b8778c6582942"><td class="mdescLeft">&#160;</td><td class="mdescRight">dummy decoy value used to obfuscate the value carried in the onion body  <a href="classns3_1_1_sink.html#a7f719a36cba9ad325f1b8778c6582942">More...</a><br /></td></tr>
<tr class="separator:a7f719a36cba9ad325f1b8778c6582942"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a8d1dc5544c0c23dc64e5d05c0c3d07"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#a9a8d1dc5544c0c23dc64e5d05c0c3d07">m_fixedOnionSize</a></td></tr>
<tr class="memdesc:a9a8d1dc5544c0c23dc64e5d05c0c3d07"><td class="mdescLeft">&#160;</td><td class="mdescRight">maintain the onion size fixed by adding padding (after layer decryption)  <a href="classns3_1_1_sink.html#a9a8d1dc5544c0c23dc64e5d05c0c3d07">More...</a><br /></td></tr>
<tr class="separator:a9a8d1dc5544c0c23dc64e5d05c0c3d07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ad4094b29f0d887507e62754512dd66"><td class="memItemLeft" align="right" valign="top">std::map&lt; uint32_t, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#a1ad4094b29f0d887507e62754512dd66">m_nodeManager</a></td></tr>
<tr class="memdesc:a1ad4094b29f0d887507e62754512dd66"><td class="mdescLeft">&#160;</td><td class="mdescRight">hashmap to manage data about nodes in the WSN// pair &lt;IP,publickey&gt;  <a href="classns3_1_1_sink.html#a1ad4094b29f0d887507e62754512dd66">More...</a><br /></td></tr>
<tr class="separator:a1ad4094b29f0d887507e62754512dd66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c67a34d2a7c13df45ceb0622837a297"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#a9c67a34d2a7c13df45ceb0622837a297">m_numnodes</a></td></tr>
<tr class="memdesc:a9c67a34d2a7c13df45ceb0622837a297"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of sensor nodes in the simulation.  <a href="classns3_1_1_sink.html#a9c67a34d2a7c13df45ceb0622837a297">More...</a><br /></td></tr>
<tr class="separator:a9c67a34d2a7c13df45ceb0622837a297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88e734b135d019d41045e49b81e221b5"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#a88e734b135d019d41045e49b81e221b5">m_numOnionLengths</a></td></tr>
<tr class="memdesc:a88e734b135d019d41045e49b81e221b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">size of the array m_onionPathsLengths  <a href="classns3_1_1_sink.html#a88e734b135d019d41045e49b81e221b5">More...</a><br /></td></tr>
<tr class="separator:a88e734b135d019d41045e49b81e221b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dff54827ae4971de955f20bbf52f9b7"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#a0dff54827ae4971de955f20bbf52f9b7">m_onionDelay</a></td></tr>
<tr class="memdesc:a0dff54827ae4971de955f20bbf52f9b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The sink will start sending onion messagess after OnionDelay seconds.  <a href="classns3_1_1_sink.html#a0dff54827ae4971de955f20bbf52f9b7">More...</a><br /></td></tr>
<tr class="separator:a0dff54827ae4971de955f20bbf52f9b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3d2a8a78f25f1e4ecc0fa7c77aaaaba"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#ab3d2a8a78f25f1e4ecc0fa7c77aaaaba">m_onionId</a> = 1</td></tr>
<tr class="memdesc:ab3d2a8a78f25f1e4ecc0fa7c77aaaaba"><td class="mdescLeft">&#160;</td><td class="mdescRight">onion ID incremented each time a new onion is issued  <a href="classns3_1_1_sink.html#ab3d2a8a78f25f1e4ecc0fa7c77aaaaba">More...</a><br /></td></tr>
<tr class="separator:ab3d2a8a78f25f1e4ecc0fa7c77aaaaba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a502607f89ee79b833057b530b4c36c5d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#a502607f89ee79b833057b530b4c36c5d">m_onionLengthIndex</a> = 0</td></tr>
<tr class="memdesc:a502607f89ee79b833057b530b4c36c5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">index of the current onion path length  <a href="classns3_1_1_sink.html#a502607f89ee79b833057b530b4c36c5d">More...</a><br /></td></tr>
<tr class="separator:a502607f89ee79b833057b530b4c36c5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f179370c7937da149f2c13c0e01616"><td class="memItemLeft" align="right" valign="top">uint16_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#ac1f179370c7937da149f2c13c0e01616">m_onionPathLengths</a></td></tr>
<tr class="memdesc:ac1f179370c7937da149f2c13c0e01616"><td class="mdescLeft">&#160;</td><td class="mdescRight">array holding onion path lengths  <a href="classns3_1_1_sink.html#ac1f179370c7937da149f2c13c0e01616">More...</a><br /></td></tr>
<tr class="separator:ac1f179370c7937da149f2c13c0e01616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7950cd2c09ae7d0ed31537f3c781b778"><td class="memItemLeft" align="right" valign="top">std::stringstream&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#a7950cd2c09ae7d0ed31537f3c781b778">m_onionStream</a></td></tr>
<tr class="memdesc:a7950cd2c09ae7d0ed31537f3c781b778"><td class="mdescLeft">&#160;</td><td class="mdescRight">a string stream holding the onion represented as a string  <a href="classns3_1_1_sink.html#a7950cd2c09ae7d0ed31537f3c781b778">More...</a><br /></td></tr>
<tr class="separator:a7950cd2c09ae7d0ed31537f3c781b778"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63c40e1faeb134c8156028607b9fae29"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#a63c40e1faeb134c8156028607b9fae29">m_publickey</a></td></tr>
<tr class="memdesc:a63c40e1faeb134c8156028607b9fae29"><td class="mdescLeft">&#160;</td><td class="mdescRight">the encryption key: publickey  <a href="classns3_1_1_sink.html#a63c40e1faeb134c8156028607b9fae29">More...</a><br /></td></tr>
<tr class="separator:a63c40e1faeb134c8156028607b9fae29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6617752b2f872b9c6985bc277357e803"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#a6617752b2f872b9c6985bc277357e803">m_repeateCount</a> = 0</td></tr>
<tr class="memdesc:a6617752b2f872b9c6985bc277357e803"><td class="mdescLeft">&#160;</td><td class="mdescRight">how many times the onion was sent at the current path length  <a href="classns3_1_1_sink.html#a6617752b2f872b9c6985bc277357e803">More...</a><br /></td></tr>
<tr class="separator:a6617752b2f872b9c6985bc277357e803"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8088aae6a8912c95324e42bf53bccbe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#ab8088aae6a8912c95324e42bf53bccbe">m_repeateTimes</a></td></tr>
<tr class="memdesc:ab8088aae6a8912c95324e42bf53bccbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Integer specifying the number of times to generate the onion message for each value in the m_onionPathsLengths.  <a href="classns3_1_1_sink.html#ab8088aae6a8912c95324e42bf53bccbe">More...</a><br /></td></tr>
<tr class="separator:ab8088aae6a8912c95324e42bf53bccbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2743924af6449f4eaebec3a9d1f56fa8"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_sink.html#a2743924af6449f4eaebec3a9d1f56fa8">m_secretkey</a></td></tr>
<tr class="memdesc:a2743924af6449f4eaebec3a9d1f56fa8"><td class="mdescLeft">&#160;</td><td class="mdescRight">the encryption key: secretkey  <a href="classns3_1_1_sink.html#a2743924af6449f4eaebec3a9d1f56fa8">More...</a><br /></td></tr>
<tr class="separator:a2743924af6449f4eaebec3a9d1f56fa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classns3_1_1_wsn__node"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classns3_1_1_wsn__node')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classns3_1_1_wsn__node.html">ns3::Wsn_node</a></td></tr>
<tr class="memitem:a173d88432ec666359c31cd482828709f inherit pro_attribs_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#a173d88432ec666359c31cd482828709f">f_mss</a></td></tr>
<tr class="memdesc:a173d88432ec666359c31cd482828709f inherit pro_attribs_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum segment size  <a href="classns3_1_1_wsn__node.html#a173d88432ec666359c31cd482828709f">More...</a><br /></td></tr>
<tr class="separator:a173d88432ec666359c31cd482828709f inherit pro_attribs_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3f8f83538264d65c9cf33bb88dd3e9f inherit pro_attribs_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">Ptr&lt; Packet &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#ae3f8f83538264d65c9cf33bb88dd3e9f">f_pendingPacket</a></td></tr>
<tr class="memdesc:ae3f8f83538264d65c9cf33bb88dd3e9f inherit pro_attribs_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">pointer to the packet where received segment fragments are stored  <a href="classns3_1_1_wsn__node.html#ae3f8f83538264d65c9cf33bb88dd3e9f">More...</a><br /></td></tr>
<tr class="separator:ae3f8f83538264d65c9cf33bb88dd3e9f inherit pro_attribs_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5a02274ae048b7d68cdb50ed29a8ddd inherit pro_attribs_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">Ipv4Address&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#ab5a02274ae048b7d68cdb50ed29a8ddd">f_receivingAddress</a> = Ipv4Address::GetAny ()</td></tr>
<tr class="memdesc:ab5a02274ae048b7d68cdb50ed29a8ddd inherit pro_attribs_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">the receiving address  <a href="classns3_1_1_wsn__node.html#ab5a02274ae048b7d68cdb50ed29a8ddd">More...</a><br /></td></tr>
<tr class="separator:ab5a02274ae048b7d68cdb50ed29a8ddd inherit pro_attribs_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab47c189d1654294f50d0c12f93113d37 inherit pro_attribs_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#ab47c189d1654294f50d0c12f93113d37">f_segmentSize</a></td></tr>
<tr class="memdesc:ab47c189d1654294f50d0c12f93113d37 inherit pro_attribs_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">the size of the whole packet  <a href="classns3_1_1_wsn__node.html#ab47c189d1654294f50d0c12f93113d37">More...</a><br /></td></tr>
<tr class="separator:ab47c189d1654294f50d0c12f93113d37 inherit pro_attribs_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9182f08024d7ed1b545ffb6113008c32 inherit pro_attribs_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">Ipv4Address&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#a9182f08024d7ed1b545ffb6113008c32">m_address</a></td></tr>
<tr class="memdesc:a9182f08024d7ed1b545ffb6113008c32 inherit pro_attribs_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">ns3::Ipv4Address of this node  <a href="classns3_1_1_wsn__node.html#a9182f08024d7ed1b545ffb6113008c32">More...</a><br /></td></tr>
<tr class="separator:a9182f08024d7ed1b545ffb6113008c32 inherit pro_attribs_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaae4b3370fda976b1ccdc7861c37a36 inherit pro_attribs_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">TracedCallback&lt; Ptr&lt; const Packet &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#acaae4b3370fda976b1ccdc7861c37a36">m_appRx</a></td></tr>
<tr class="memdesc:acaae4b3370fda976b1ccdc7861c37a36 inherit pro_attribs_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">traced callback for packet receipt  <a href="classns3_1_1_wsn__node.html#acaae4b3370fda976b1ccdc7861c37a36">More...</a><br /></td></tr>
<tr class="separator:acaae4b3370fda976b1ccdc7861c37a36 inherit pro_attribs_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4841e613ddee05d1ae7986fbae3f9144 inherit pro_attribs_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">TracedCallback&lt; Ptr&lt; const Packet &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#a4841e613ddee05d1ae7986fbae3f9144">m_appTx</a></td></tr>
<tr class="memdesc:a4841e613ddee05d1ae7986fbae3f9144 inherit pro_attribs_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">traced callback for packet transmission  <a href="classns3_1_1_wsn__node.html#a4841e613ddee05d1ae7986fbae3f9144">More...</a><br /></td></tr>
<tr class="separator:a4841e613ddee05d1ae7986fbae3f9144 inherit pro_attribs_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a403d9cad3a69f81fb77ed3b22864388e inherit pro_attribs_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#a403d9cad3a69f81fb77ed3b22864388e">m_delay</a></td></tr>
<tr class="memdesc:a403d9cad3a69f81fb77ed3b22864388e inherit pro_attribs_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">delay after which the handshake process will start  <a href="classns3_1_1_wsn__node.html#a403d9cad3a69f81fb77ed3b22864388e">More...</a><br /></td></tr>
<tr class="separator:a403d9cad3a69f81fb77ed3b22864388e inherit pro_attribs_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2fcb8995e7dff8f660f9edc8f970a12 inherit pro_attribs_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classns3_1_1_onion_manager.html">OnionManager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#ad2fcb8995e7dff8f660f9edc8f970a12">m_onionManager</a></td></tr>
<tr class="memdesc:ad2fcb8995e7dff8f660f9edc8f970a12 inherit pro_attribs_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="classns3_1_1_onion_manager.html" title="Class that manages encryption keys and the encryption and decryption of layers of onion messagess The...">ns3::OnionManager</a> object.  <a href="classns3_1_1_wsn__node.html#ad2fcb8995e7dff8f660f9edc8f970a12">More...</a><br /></td></tr>
<tr class="separator:ad2fcb8995e7dff8f660f9edc8f970a12 inherit pro_attribs_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50868c4fad36947b9fb6a78dfb0a3da4 inherit pro_attribs_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#a50868c4fad36947b9fb6a78dfb0a3da4">m_onionTimeout</a></td></tr>
<tr class="memdesc:a50868c4fad36947b9fb6a78dfb0a3da4 inherit pro_attribs_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">timer in seconds, if elepsed and the onion was not recieved by the next receiver, then delete the onion  <a href="classns3_1_1_wsn__node.html#a50868c4fad36947b9fb6a78dfb0a3da4">More...</a><br /></td></tr>
<tr class="separator:a50868c4fad36947b9fb6a78dfb0a3da4 inherit pro_attribs_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78d48feb5b8d4988ecae7afd33f0a1ca inherit pro_attribs_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">Ptr&lt; <a class="el" href="classns3_1_1_onion_validator.html">OnionValidator</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#a78d48feb5b8d4988ecae7afd33f0a1ca">m_onionValidator</a></td></tr>
<tr class="memdesc:a78d48feb5b8d4988ecae7afd33f0a1ca inherit pro_attribs_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the <a class="el" href="classns3_1_1_onion_validator.html" title="Class shared between wsn nodes used to track how the onion is transiting in the WSN The class uses tw...">ns3::OnionValidator</a>.  <a href="classns3_1_1_wsn__node.html#a78d48feb5b8d4988ecae7afd33f0a1ca">More...</a><br /></td></tr>
<tr class="separator:a78d48feb5b8d4988ecae7afd33f0a1ca inherit pro_attribs_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf8ac45ce587d9439aa84a2efa69974e inherit pro_attribs_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">Ptr&lt; <a class="el" href="classns3_1_1_output_manager.html">OutputManager</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#aaf8ac45ce587d9439aa84a2efa69974e">m_outputManager</a></td></tr>
<tr class="memdesc:aaf8ac45ce587d9439aa84a2efa69974e inherit pro_attribs_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the <a class="el" href="classns3_1_1_output_manager.html" title="Class that manages the output of the simulation. ConsoleLog output and Output on ....">ns3::OutputManager</a>.  <a href="classns3_1_1_wsn__node.html#aaf8ac45ce587d9439aa84a2efa69974e">More...</a><br /></td></tr>
<tr class="separator:aaf8ac45ce587d9439aa84a2efa69974e inherit pro_attribs_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a855824f044ee488f308f8423a729460c inherit pro_attribs_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#a855824f044ee488f308f8423a729460c">m_port</a></td></tr>
<tr class="memdesc:a855824f044ee488f308f8423a729460c inherit pro_attribs_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">port of the application  <a href="classns3_1_1_wsn__node.html#a855824f044ee488f308f8423a729460c">More...</a><br /></td></tr>
<tr class="separator:a855824f044ee488f308f8423a729460c inherit pro_attribs_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af11a66fef3f5bbf1a993611fcd65e253 inherit pro_attribs_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">Ptr&lt; Socket &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#af11a66fef3f5bbf1a993611fcd65e253">m_socket</a></td></tr>
<tr class="memdesc:af11a66fef3f5bbf1a993611fcd65e253 inherit pro_attribs_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">listening socket  <a href="classns3_1_1_wsn__node.html#af11a66fef3f5bbf1a993611fcd65e253">More...</a><br /></td></tr>
<tr class="separator:af11a66fef3f5bbf1a993611fcd65e253 inherit pro_attribs_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ffdb5aea598b11acc43a45d36de571e inherit pro_attribs_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#a9ffdb5aea598b11acc43a45d36de571e">o_hopCount</a> = 0</td></tr>
<tr class="memdesc:a9ffdb5aea598b11acc43a45d36de571e inherit pro_attribs_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">track how the onion is is transiting in the network  <a href="classns3_1_1_wsn__node.html#a9ffdb5aea598b11acc43a45d36de571e">More...</a><br /></td></tr>
<tr class="separator:a9ffdb5aea598b11acc43a45d36de571e inherit pro_attribs_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc7a1e7c77c4f03c1498d2f46728ac3b inherit pro_attribs_classns3_1_1_wsn__node"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_wsn__node.html#abc7a1e7c77c4f03c1498d2f46728ac3b">o_sequenceNum</a> = 0</td></tr>
<tr class="memdesc:abc7a1e7c77c4f03c1498d2f46728ac3b inherit pro_attribs_classns3_1_1_wsn__node"><td class="mdescLeft">&#160;</td><td class="mdescRight">sequence number of the onion, should be same as onion_id  <a href="classns3_1_1_wsn__node.html#abc7a1e7c77c4f03c1498d2f46728ac3b">More...</a><br /></td></tr>
<tr class="separator:abc7a1e7c77c4f03c1498d2f46728ac3b inherit pro_attribs_classns3_1_1_wsn__node"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The application of the sink node. The node that generates onion messagess. </p>

<p class="definition">Definition at line <a class="el" href="sink_8h_source.html#l00049">49</a> of file <a class="el" href="sink_8h_source.html">sink.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6a02ca171006da070267bafee4e34afc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a02ca171006da070267bafee4e34afc">&#9670;&nbsp;</a></span>Sink()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ns3::Sink::Sink </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. </p>

<p class="definition">Definition at line <a class="el" href="sink_8cc_source.html#l00063">63</a> of file <a class="el" href="sink_8cc_source.html">sink.cc</a>.</p>

</div>
</div>
<a id="aa8b857234707998f0437c83b2b2944bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8b857234707998f0437c83b2b2944bd">&#9670;&nbsp;</a></span>~Sink()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ns3::Sink::~Sink </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default destructor. </p>

<p class="definition">Definition at line <a class="el" href="sink_8cc_source.html#l00067">67</a> of file <a class="el" href="sink_8cc_source.html">sink.cc</a>.</p>

<p class="reference">References <a class="el" href="wsn__node_8h_source.html#l00228">ns3::Wsn_node::m_socket</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a828baaddc6bd9c862ca1eab675a2cc8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a828baaddc6bd9c862ca1eab675a2cc8b">&#9670;&nbsp;</a></span>Accept()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ns3::Sink::Accept </td>
          <td>(</td>
          <td class="paramtype">Ptr&lt; Socket &gt;&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ns3::Address &amp;&#160;</td>
          <td class="paramname"><em>from</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accept new TCP connections. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">socket</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">from</td><td>sending address </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sink_8cc_source.html#l00087">87</a> of file <a class="el" href="sink_8cc_source.html">sink.cc</a>.</p>

<p class="reference">References <a class="el" href="sink_8cc_source.html#l00095">ReceivePacket()</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00346">StartApplication()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classns3_1_1_sink_a828baaddc6bd9c862ca1eab675a2cc8b_cgraph.png" border="0" usemap="#classns3_1_1_sink_a828baaddc6bd9c862ca1eab675a2cc8b_cgraph" alt=""/></div>
<map name="classns3_1_1_sink_a828baaddc6bd9c862ca1eab675a2cc8b_cgraph" id="classns3_1_1_sink_a828baaddc6bd9c862ca1eab675a2cc8b_cgraph">
<area shape="rect" title="Accept new TCP connections." alt="" coords="5,303,139,330"/>
<area shape="rect" href="classns3_1_1_sink.html#afed3482312048d13efa38d1235bbf504" title="Recieve a new packet from socket Check if the packet is a handshake packet or a packet containing an ..." alt="" coords="187,303,369,330"/>
<area shape="rect" href="classns3_1_1_serialization_wrapper.html#a2b74fc3a4d8919b59aa30b69193edc11" title="Getter of the data in the protocol header." alt="" coords="436,5,625,47"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet.html#a2d07e9d5945f8a6c066976cadd9eacd3" title=" " alt="" coords="431,71,630,112"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet.html#a48f926637f06001157665ba34a8319b6" title=" " alt="" coords="431,136,630,177"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet.html#a458919e3afa59bad3f09ba44fb2585b2" title=" " alt="" coords="1444,203,1643,244"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet.html#a71f5021a442813efa9b776fdc887c134" title=" " alt="" coords="1444,268,1643,309"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a4a9260067f89d4b6ea170ca2cbf86293" title="Call to signal the receipt of a Packet at the application layer." alt="" coords="439,303,623,330"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a89542320517d683b785ad9330b03b084" title=" " alt="" coords="692,253,891,295"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#aa616fc616e90993adc19139c5b9f19d0" title="Signal to the ns3::OnionValidator that the onion was corrctly received." alt="" coords="417,405,644,431"/>
<area shape="rect" href="classns3_1_1_sink.html#a643466bbfefcdec90e18492d8da1527c" title="When receiving a new handshake with a node." alt="" coords="434,455,627,482"/>
<area shape="rect" href="classns3_1_1_sink.html#a1580afa832d0c29fab74b36a386c5960" title="Triggered when an onion message is received back at the sink node Data about the message is captured ..." alt="" coords="451,537,610,563"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#aa0357269d4a513854b1b04cc91d57b5f" title="method for receiving a segment calls ns3::Wsn_node::RecvSeg()" alt="" coords="421,647,640,674"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a0575c701e50fe9c30f6b363630883c9e" title=" " alt="" coords="1743,547,1965,588"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___handshake.html#ad7341592fd67dce6ac5d9930576544f0" title=" " alt="" coords="692,448,891,489"/>
<area shape="rect" href="classns3_1_1_sink.html#a4a2b4bb96ca5a7f87779c9debe616c49" title="Schedule the creation of a new onion based on the path length specified in m_onionPathLengths If all ..." alt="" coords="715,587,868,614"/>
<area shape="rect" href="classns3_1_1_sink.html#afb970f60a50eeb59c9bbf77189716294" title="Method that constructs the onion head from route and routeLen parameters." alt="" coords="964,587,1141,614"/>
<area shape="rect" href="classns3_1_1_sink.html#a879a50c3cf9317ee869f855e7080d17d" title="The method builds the path of the onion message by randomly selecting sensor nodes from the m_nodeMan..." alt="" coords="969,638,1136,665"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#a0da1e54f52d99df702dd240fce651981" title=" " alt="" coords="1219,965,1369,1007"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#ab3882cb5b24d0746cfbca7db0a0f2307" title=" " alt="" coords="1779,1096,1929,1137"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#a45587cac497ea0ba2c5d18d33c17bd27" title="Convert an Ipv4 address given as an unsigned integer value to buffer array of 4Bytes." alt="" coords="1216,521,1372,563"/>
<area shape="rect" href="classns3_1_1_sink.html#a71e468d7136c559403186ea834bbb660" title="The method constructs the onion message as a protobuf object." alt="" coords="1215,587,1373,614"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#ae6eca00c2ab2e25c208bbcc2b303433f" title="Convert a string to an array of unsigned chars." alt="" coords="1216,639,1372,680"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#aa0e89ab4789722e46a24403ef4fdca78" title=" " alt="" coords="1779,965,1929,1007"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#af2c470892e46cdd55688d0187fd2318b" title=" " alt="" coords="1469,1028,1618,1069"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#a4dc0c7fbda4dccf41b5c3e5a5dda1a36" title=" " alt="" coords="1779,1031,1929,1072"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a345a7f76017cf57eaf7e02886b049378" title=" " alt="" coords="1444,725,1643,767"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a2856fc8d0b443002953e8a8e2c62ae97" title=" " alt="" coords="1444,791,1643,832"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a3542bef0929d36d6ea4a4c473e819a35" title="Call to signal the transmission of a Packet at the application layer." alt="" coords="1452,857,1635,883"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a02a8a79729b3e6f10be94bd21e01358f" title="Send a packet through a TCP connection to the remote address." alt="" coords="1434,907,1653,934"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a07ba389aeacb242a7eb22bafbd000433" title=" " alt="" coords="1421,333,1665,375"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a4d2ad7d5770fa5c0178132b1ff56fb27" title=" " alt="" coords="1424,399,1663,440"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a74ec6824cca0f510e4c18f1640e9afc4" title=" " alt="" coords="1444,464,1643,505"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a6cf2ea1bb2563621166b954fa4ffe05c" title=" " alt="" coords="1444,529,1643,571"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a87b7563f40411fea611b108be67a5398" title=" " alt="" coords="1444,595,1643,636"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#a2c0f3e75030b80a223f83efe785fc21b" title="Convert an array of unsigned chars to a std::string." alt="" coords="1465,660,1621,701"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#adda5d4aa78dd11bb27769c39b357634b" title=" " alt="" coords="1749,689,1959,745"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a953253eaf1ce724b9b216064c6bd8f97" title=" " alt="" coords="1741,623,1967,664"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a3d832a8dff8b14b4620791fff82bf5e3" title=" " alt="" coords="1713,835,1995,876"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#aefa8e129c6a9e94fd26211b7f2fc08c4" title=" " alt="" coords="1743,769,1965,811"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#af8dc6dffc09f815bc2861013cef6d60b" title="The method checks if the onion was received by the next receiving node If the onion was not received ..." alt="" coords="1755,900,1953,941"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#acb312d32337ab31cbd2d14de997ca5ad" title=" " alt="" coords="1755,457,1953,513"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a5d9c47229fd6a915a6eb26b740bdb387" title="method for receiving packets able to merge segment fragments if a packet was split into multiple segm..." alt="" coords="699,663,883,690"/>
<area shape="rect" href="classns3_1_1_segment_num.html#a736403fa2fffeb464c1a1e18ff484b37" title=" " alt="" coords="939,689,1167,715"/>
</map>
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classns3_1_1_sink_a828baaddc6bd9c862ca1eab675a2cc8b_icgraph.png" border="0" usemap="#classns3_1_1_sink_a828baaddc6bd9c862ca1eab675a2cc8b_icgraph" alt=""/></div>
<map name="classns3_1_1_sink_a828baaddc6bd9c862ca1eab675a2cc8b_icgraph" id="classns3_1_1_sink_a828baaddc6bd9c862ca1eab675a2cc8b_icgraph">
<area shape="rect" title="Accept new TCP connections." alt="" coords="247,5,380,32"/>
<area shape="rect" href="classns3_1_1_sink.html#a59faa47e4235feac5d9be91842c82710" title="1.Start the application run ns3::Wsn_node::Configure() 2.Generate new encryption keys 3...." alt="" coords="5,5,199,32"/>
</map>
</div>

</div>
</div>
<a id="adb3593f0c5e1037d8a6cb429ff114b2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb3593f0c5e1037d8a6cb429ff114b2e">&#9670;&nbsp;</a></span>CheckOnion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ns3::Sink::CheckOnion </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Each five seconds call the <a class="el" href="classns3_1_1_onion_validator.html" title="Class shared between wsn nodes used to track how the onion is transiting in the WSN The class uses tw...">ns3::OnionValidator</a> and check if at least one onion message is alive Otherwise the onion was aborted, decrease the value of <code>m_repeateCount</code> and schedule a new execution of the function <a class="el" href="classns3_1_1_sink.html#a4a2b4bb96ca5a7f87779c9debe616c49" title="Schedule the creation of a new onion based on the path length specified in m_onionPathLengths If all ...">ns3::Sink::SinkTasks()</a> </p>

<p class="definition">Definition at line <a class="el" href="sink_8cc_source.html#l00330">330</a> of file <a class="el" href="sink_8cc_source.html">sink.cc</a>.</p>

<p class="reference">References <a class="el" href="wsn__node_8h_source.html#l00226">ns3::Wsn_node::m_onionValidator</a>, <a class="el" href="sink_8h_source.html#l00219">m_repeateCount</a>, and <a class="el" href="sink_8cc_source.html#l00163">SinkTasks()</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00346">StartApplication()</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classns3_1_1_sink_adb3593f0c5e1037d8a6cb429ff114b2e_cgraph.png" border="0" usemap="#classns3_1_1_sink_adb3593f0c5e1037d8a6cb429ff114b2e_cgraph" alt=""/></div>
<map name="classns3_1_1_sink_adb3593f0c5e1037d8a6cb429ff114b2e_cgraph" id="classns3_1_1_sink_adb3593f0c5e1037d8a6cb429ff114b2e_cgraph">
<area shape="rect" title="Each five seconds call the ns3::OnionValidator and check if at least one onion message is alive Other..." alt="" coords="5,370,172,397"/>
<area shape="rect" href="classns3_1_1_sink.html#a4a2b4bb96ca5a7f87779c9debe616c49" title="Schedule the creation of a new onion based on the path length specified in m_onionPathLengths If all ..." alt="" coords="220,370,373,397"/>
<area shape="rect" href="classns3_1_1_sink.html#afb970f60a50eeb59c9bbf77189716294" title="Method that constructs the onion head from route and routeLen parameters." alt="" coords="421,345,599,371"/>
<area shape="rect" href="classns3_1_1_sink.html#a879a50c3cf9317ee869f855e7080d17d" title="The method builds the path of the onion message by randomly selecting sensor nodes from the m_nodeMan..." alt="" coords="427,395,593,422"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#a0da1e54f52d99df702dd240fce651981" title=" " alt="" coords="651,71,801,112"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#ab3882cb5b24d0746cfbca7db0a0f2307" title=" " alt="" coords="1211,136,1361,177"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#a45587cac497ea0ba2c5d18d33c17bd27" title="Convert an Ipv4 address given as an unsigned integer value to buffer array of 4Bytes." alt="" coords="648,337,804,379"/>
<area shape="rect" href="classns3_1_1_sink.html#a71e468d7136c559403186ea834bbb660" title="The method constructs the onion message as a protobuf object." alt="" coords="647,570,805,597"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#ae6eca00c2ab2e25c208bbcc2b303433f" title="Convert a string to an array of unsigned chars." alt="" coords="648,621,804,663"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#aa0e89ab4789722e46a24403ef4fdca78" title=" " alt="" coords="1211,5,1361,47"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#af2c470892e46cdd55688d0187fd2318b" title=" " alt="" coords="901,71,1050,112"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#a4dc0c7fbda4dccf41b5c3e5a5dda1a36" title=" " alt="" coords="1211,71,1361,112"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a345a7f76017cf57eaf7e02886b049378" title=" " alt="" coords="876,283,1075,324"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a2856fc8d0b443002953e8a8e2c62ae97" title=" " alt="" coords="876,348,1075,389"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet.html#a458919e3afa59bad3f09ba44fb2585b2" title=" " alt="" coords="876,413,1075,455"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet.html#a71f5021a442813efa9b776fdc887c134" title=" " alt="" coords="876,479,1075,520"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a3542bef0929d36d6ea4a4c473e819a35" title="Call to signal the transmission of a Packet at the application layer." alt="" coords="884,545,1067,571"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a02a8a79729b3e6f10be94bd21e01358f" title="Send a packet through a TCP connection to the remote address." alt="" coords="866,595,1085,622"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a07ba389aeacb242a7eb22bafbd000433" title=" " alt="" coords="853,647,1097,688"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a4d2ad7d5770fa5c0178132b1ff56fb27" title=" " alt="" coords="856,712,1095,753"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a74ec6824cca0f510e4c18f1640e9afc4" title=" " alt="" coords="876,777,1075,819"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a6cf2ea1bb2563621166b954fa4ffe05c" title=" " alt="" coords="876,843,1075,884"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a87b7563f40411fea611b108be67a5398" title=" " alt="" coords="876,908,1075,949"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#a2c0f3e75030b80a223f83efe785fc21b" title="Convert an array of unsigned chars to a std::string." alt="" coords="897,973,1053,1015"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#adda5d4aa78dd11bb27769c39b357634b" title=" " alt="" coords="1181,202,1391,258"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a0575c701e50fe9c30f6b363630883c9e" title=" " alt="" coords="1175,283,1397,324"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a953253eaf1ce724b9b216064c6bd8f97" title=" " alt="" coords="1173,348,1399,389"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a3d832a8dff8b14b4620791fff82bf5e3" title=" " alt="" coords="1145,413,1427,455"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#aefa8e129c6a9e94fd26211b7f2fc08c4" title=" " alt="" coords="1175,479,1397,520"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#af8dc6dffc09f815bc2861013cef6d60b" title="The method checks if the onion was received by the next receiving node If the onion was not received ..." alt="" coords="1187,588,1385,629"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#acb312d32337ab31cbd2d14de997ca5ad" title=" " alt="" coords="1187,770,1385,826"/>
</map>
</div>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classns3_1_1_sink_adb3593f0c5e1037d8a6cb429ff114b2e_icgraph.png" border="0" usemap="#classns3_1_1_sink_adb3593f0c5e1037d8a6cb429ff114b2e_icgraph" alt=""/></div>
<map name="classns3_1_1_sink_adb3593f0c5e1037d8a6cb429ff114b2e_icgraph" id="classns3_1_1_sink_adb3593f0c5e1037d8a6cb429ff114b2e_icgraph">
<area shape="rect" title="Each five seconds call the ns3::OnionValidator and check if at least one onion message is alive Other..." alt="" coords="247,5,413,32"/>
<area shape="rect" href="classns3_1_1_sink.html#a59faa47e4235feac5d9be91842c82710" title="1.Start the application run ns3::Wsn_node::Configure() 2.Generate new encryption keys 3...." alt="" coords="5,5,199,32"/>
</map>
</div>

</div>
</div>
<a id="a4f902d72399ca6ecf59cb05d682a91c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f902d72399ca6ecf59cb05d682a91c1">&#9670;&nbsp;</a></span>GetTypeId()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TypeId ns3::Sink::GetTypeId </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register this type. </p>
<dl class="section return"><dt>Returns</dt><dd>The object TypeId. </dd></dl>

<p class="definition">Definition at line <a class="el" href="sink_8cc_source.html#l00032">32</a> of file <a class="el" href="sink_8cc_source.html">sink.cc</a>.</p>

<p class="reference">References <a class="el" href="enums_8h_source.html#l00108">ns3::Aggregate</a>, <a class="el" href="enums_8h_source.html#l00110">ns3::AggregateAndFixed</a>, <a class="el" href="enums_8h_source.html#l00109">ns3::FixedSize</a>, <a class="el" href="sink_8h_source.html#l00214">m_bodyOptions</a>, <a class="el" href="sink_8h_source.html#l00215">m_bodySize</a>, <a class="el" href="sink_8h_source.html#l00213">m_fixedOnionSize</a>, <a class="el" href="sink_8h_source.html#l00206">m_numnodes</a>, <a class="el" href="sink_8h_source.html#l00207">m_onionDelay</a>, and <a class="el" href="enums_8h_source.html#l00107">ns3::NO_Body</a>.</p>

</div>
</div>
<a id="afb970f60a50eeb59c9bbf77189716294"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb970f60a50eeb59c9bbf77189716294">&#9670;&nbsp;</a></span>PrepareOnion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ns3::Sink::PrepareOnion </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>route</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>routeLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method that constructs the onion head from <code>route</code> and <code>routeLen</code> parameters. </p>
<p>The method constructs two arrays <code>keys</code> , <code>ipRoute</code> containing respectively encryption keys and IP addreses of sensor nodes in the <code>m_nodeManager</code> structure at indexes specified by the <code>route</code> array. The onion head is constructed by calling <a class="el" href="classns3_1_1_onion_routing.html#a0da1e54f52d99df702dd240fce651981">ns3::OnionRouting::BuildOnion()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">route</td><td>pointer to an array of length <code>routeLen</code> cointaining indexes of sensor nodes in the <code>m_nodeManager</code> structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">routeLen</td><td>length of the array <code>route</code> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sink_8cc_source.html#l00230">230</a> of file <a class="el" href="sink_8cc_source.html">sink.cc</a>.</p>

<p class="reference">References <a class="el" href="bckp_2onion-routing_8cc_source.html#l00063">ns3::OnionRouting::BuildOnion()</a>, <a class="el" href="onionmanager_8cc_source.html#l00155">ns3::OnionManager::IpToBuff()</a>, <a class="el" href="wsn__node_8h_source.html#l00227">ns3::Wsn_node::m_address</a>, <a class="el" href="sink_8h_source.html#l00209">m_nodeManager</a>, <a class="el" href="wsn__node_8h_source.html#l00230">ns3::Wsn_node::m_onionManager</a>, <a class="el" href="sink_8h_source.html#l00231">m_publickey</a>, <a class="el" href="bckp_2onion-routing_8cc_source.html#l00180">ns3::OnionRouting::OnionLength()</a>, <a class="el" href="sink_8cc_source.html#l00272">SendOnion()</a>, and <a class="el" href="onionmanager_8cc_source.html#l00138">ns3::OnionManager::StringToUchar()</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00163">SinkTasks()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classns3_1_1_sink_afb970f60a50eeb59c9bbf77189716294_cgraph.png" border="0" usemap="#classns3_1_1_sink_afb970f60a50eeb59c9bbf77189716294_cgraph" alt=""/></div>
<map name="classns3_1_1_sink_afb970f60a50eeb59c9bbf77189716294_cgraph" id="classns3_1_1_sink_afb970f60a50eeb59c9bbf77189716294_cgraph">
<area shape="rect" title="Method that constructs the onion head from route and routeLen parameters." alt="" coords="5,345,183,371"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#a0da1e54f52d99df702dd240fce651981" title=" " alt="" coords="235,71,385,112"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#ab3882cb5b24d0746cfbca7db0a0f2307" title=" " alt="" coords="795,136,945,177"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#a45587cac497ea0ba2c5d18d33c17bd27" title="Convert an Ipv4 address given as an unsigned integer value to buffer array of 4Bytes." alt="" coords="232,337,388,379"/>
<area shape="rect" href="classns3_1_1_sink.html#a71e468d7136c559403186ea834bbb660" title="The method constructs the onion message as a protobuf object." alt="" coords="231,570,389,597"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#ae6eca00c2ab2e25c208bbcc2b303433f" title="Convert a string to an array of unsigned chars." alt="" coords="232,621,388,663"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#aa0e89ab4789722e46a24403ef4fdca78" title=" " alt="" coords="795,5,945,47"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#af2c470892e46cdd55688d0187fd2318b" title=" " alt="" coords="485,71,634,112"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#a4dc0c7fbda4dccf41b5c3e5a5dda1a36" title=" " alt="" coords="795,71,945,112"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a345a7f76017cf57eaf7e02886b049378" title=" " alt="" coords="460,283,659,324"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a2856fc8d0b443002953e8a8e2c62ae97" title=" " alt="" coords="460,348,659,389"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet.html#a458919e3afa59bad3f09ba44fb2585b2" title=" " alt="" coords="460,413,659,455"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet.html#a71f5021a442813efa9b776fdc887c134" title=" " alt="" coords="460,479,659,520"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a3542bef0929d36d6ea4a4c473e819a35" title="Call to signal the transmission of a Packet at the application layer." alt="" coords="468,545,651,571"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a02a8a79729b3e6f10be94bd21e01358f" title="Send a packet through a TCP connection to the remote address." alt="" coords="450,595,669,622"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a07ba389aeacb242a7eb22bafbd000433" title=" " alt="" coords="437,647,681,688"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a4d2ad7d5770fa5c0178132b1ff56fb27" title=" " alt="" coords="440,712,679,753"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a74ec6824cca0f510e4c18f1640e9afc4" title=" " alt="" coords="460,777,659,819"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a6cf2ea1bb2563621166b954fa4ffe05c" title=" " alt="" coords="460,843,659,884"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a87b7563f40411fea611b108be67a5398" title=" " alt="" coords="460,908,659,949"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#a2c0f3e75030b80a223f83efe785fc21b" title="Convert an array of unsigned chars to a std::string." alt="" coords="481,973,637,1015"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#adda5d4aa78dd11bb27769c39b357634b" title=" " alt="" coords="765,202,975,258"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a0575c701e50fe9c30f6b363630883c9e" title=" " alt="" coords="759,283,981,324"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a953253eaf1ce724b9b216064c6bd8f97" title=" " alt="" coords="757,348,983,389"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a3d832a8dff8b14b4620791fff82bf5e3" title=" " alt="" coords="729,413,1011,455"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#aefa8e129c6a9e94fd26211b7f2fc08c4" title=" " alt="" coords="759,479,981,520"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#af8dc6dffc09f815bc2861013cef6d60b" title="The method checks if the onion was received by the next receiving node If the onion was not received ..." alt="" coords="771,588,969,629"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#acb312d32337ab31cbd2d14de997ca5ad" title=" " alt="" coords="771,770,969,826"/>
</map>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classns3_1_1_sink_afb970f60a50eeb59c9bbf77189716294_icgraph.png" border="0" usemap="#classns3_1_1_sink_afb970f60a50eeb59c9bbf77189716294_icgraph" alt=""/></div>
<map name="classns3_1_1_sink_afb970f60a50eeb59c9bbf77189716294_icgraph" id="classns3_1_1_sink_afb970f60a50eeb59c9bbf77189716294_icgraph">
<area shape="rect" title="Method that constructs the onion head from route and routeLen parameters." alt="" coords="1067,56,1244,83"/>
<area shape="rect" href="classns3_1_1_sink.html#a4a2b4bb96ca5a7f87779c9debe616c49" title="Schedule the creation of a new onion based on the path length specified in m_onionPathLengths If all ..." alt="" coords="865,56,1019,83"/>
<area shape="rect" href="classns3_1_1_sink.html#adb3593f0c5e1037d8a6cb429ff114b2e" title="Each five seconds call the ns3::OnionValidator and check if at least one onion message is alive Other..." alt="" coords="436,5,603,32"/>
<area shape="rect" href="classns3_1_1_sink.html#a59faa47e4235feac5d9be91842c82710" title="1.Start the application run ns3::Wsn_node::Configure() 2.Generate new encryption keys 3...." alt="" coords="5,56,199,83"/>
<area shape="rect" href="classns3_1_1_sink.html#a1580afa832d0c29fab74b36a386c5960" title="Triggered when an onion message is received back at the sink node Data about the message is captured ..." alt="" coords="659,107,817,133"/>
<area shape="rect" href="classns3_1_1_sink.html#afed3482312048d13efa38d1235bbf504" title="Recieve a new packet from socket Check if the packet is a handshake packet or a packet containing an ..." alt="" coords="428,107,611,133"/>
<area shape="rect" href="classns3_1_1_sink.html#a828baaddc6bd9c862ca1eab675a2cc8b" title="Accept new TCP connections." alt="" coords="247,107,380,133"/>
</map>
</div>

</div>
</div>
<a id="afed3482312048d13efa38d1235bbf504"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afed3482312048d13efa38d1235bbf504">&#9670;&nbsp;</a></span>ReceivePacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ns3::Sink::ReceivePacket </td>
          <td>(</td>
          <td class="paramtype">Ptr&lt; Socket &gt;&#160;</td>
          <td class="paramname"><em>socket</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recieve a new packet from <code>socket</code> Check if the packet is a handshake packet or a packet containing an onion message. </p>
<ol type="1">
<li>Handshake packet -&gt; call <a class="el" href="classns3_1_1_sink.html#a643466bbfefcdec90e18492d8da1527c" title="When receiving a new handshake with a node.">ns3::Sink::RecvHandshake()</a></li>
<li>Onion message -&gt; call <a class="el" href="classns3_1_1_sink.html#a1580afa832d0c29fab74b36a386c5960" title="Triggered when an onion message is received back at the sink node Data about the message is captured ...">ns3::Sink::RecvOnion()</a></li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">socket</td><td>the receiving tcp socket <br  />
 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sink_8cc_source.html#l00095">95</a> of file <a class="el" href="sink_8cc_source.html">sink.cc</a>.</p>

<p class="reference">References <a class="el" href="serializationwrapper_8cc_source.html#l00078">ns3::SerializationWrapper::GetData()</a>, <a class="el" href="proto-packet_8pb_8h_source.html#l01157">protomessage::ProtoPacket::has_h_shake()</a>, <a class="el" href="wsn__node_8h_source.html#l00227">ns3::Wsn_node::m_address</a>, <a class="el" href="sink_8h_source.html#l00225">m_onionId</a>, <a class="el" href="proto-packet_8pb_8h_source.html#l01216">protomessage::ProtoPacket::mutable_h_shake()</a>, <a class="el" href="proto-packet_8pb_8h_source.html#l01396">protomessage::ProtoPacket::mutable_o_body()</a>, <a class="el" href="proto-packet_8pb_8h_source.html#l01306">protomessage::ProtoPacket::mutable_o_head()</a>, <a class="el" href="wsn__node_8cc_source.html#l00082">ns3::Wsn_node::NotifyRx()</a>, <a class="el" href="wsn__node_8h_source.html#l00241">ns3::Wsn_node::o_sequenceNum</a>, <a class="el" href="proto-packet_8pb_8h_source.html#l00822">protomessage::ProtoPacket_OnionHead::onionid()</a>, <a class="el" href="wsn__node_8cc_source.html#l00331">ns3::Wsn_node::OnionReceived()</a>, <a class="el" href="sink_8cc_source.html#l00142">RecvHandshake()</a>, <a class="el" href="sink_8cc_source.html#l00154">RecvOnion()</a>, and <a class="el" href="wsn__node_8cc_source.html#l00249">ns3::Wsn_node::RecvSegment()</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00087">Accept()</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classns3_1_1_sink_afed3482312048d13efa38d1235bbf504_cgraph.png" border="0" usemap="#classns3_1_1_sink_afed3482312048d13efa38d1235bbf504_cgraph" alt=""/></div>
<map name="classns3_1_1_sink_afed3482312048d13efa38d1235bbf504_cgraph" id="classns3_1_1_sink_afed3482312048d13efa38d1235bbf504_cgraph">
<area shape="rect" title="Recieve a new packet from socket Check if the packet is a handshake packet or a packet containing an ..." alt="" coords="5,303,188,330"/>
<area shape="rect" href="classns3_1_1_serialization_wrapper.html#a2b74fc3a4d8919b59aa30b69193edc11" title="Getter of the data in the protocol header." alt="" coords="255,5,444,47"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet.html#a2d07e9d5945f8a6c066976cadd9eacd3" title=" " alt="" coords="250,71,449,112"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet.html#a48f926637f06001157665ba34a8319b6" title=" " alt="" coords="250,136,449,177"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet.html#a458919e3afa59bad3f09ba44fb2585b2" title=" " alt="" coords="1263,203,1461,244"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet.html#a71f5021a442813efa9b776fdc887c134" title=" " alt="" coords="1263,268,1461,309"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a4a9260067f89d4b6ea170ca2cbf86293" title="Call to signal the receipt of a Packet at the application layer." alt="" coords="257,303,441,330"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a89542320517d683b785ad9330b03b084" title=" " alt="" coords="511,253,709,295"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#aa616fc616e90993adc19139c5b9f19d0" title="Signal to the ns3::OnionValidator that the onion was corrctly received." alt="" coords="236,405,463,431"/>
<area shape="rect" href="classns3_1_1_sink.html#a643466bbfefcdec90e18492d8da1527c" title="When receiving a new handshake with a node." alt="" coords="253,455,446,482"/>
<area shape="rect" href="classns3_1_1_sink.html#a1580afa832d0c29fab74b36a386c5960" title="Triggered when an onion message is received back at the sink node Data about the message is captured ..." alt="" coords="270,537,429,563"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#aa0357269d4a513854b1b04cc91d57b5f" title="method for receiving a segment calls ns3::Wsn_node::RecvSeg()" alt="" coords="240,647,459,674"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a0575c701e50fe9c30f6b363630883c9e" title=" " alt="" coords="1562,547,1783,588"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___handshake.html#ad7341592fd67dce6ac5d9930576544f0" title=" " alt="" coords="511,448,709,489"/>
<area shape="rect" href="classns3_1_1_sink.html#a4a2b4bb96ca5a7f87779c9debe616c49" title="Schedule the creation of a new onion based on the path length specified in m_onionPathLengths If all ..." alt="" coords="533,587,687,614"/>
<area shape="rect" href="classns3_1_1_sink.html#afb970f60a50eeb59c9bbf77189716294" title="Method that constructs the onion head from route and routeLen parameters." alt="" coords="783,587,960,614"/>
<area shape="rect" href="classns3_1_1_sink.html#a879a50c3cf9317ee869f855e7080d17d" title="The method builds the path of the onion message by randomly selecting sensor nodes from the m_nodeMan..." alt="" coords="788,638,955,665"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#a0da1e54f52d99df702dd240fce651981" title=" " alt="" coords="1038,965,1187,1007"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#ab3882cb5b24d0746cfbca7db0a0f2307" title=" " alt="" coords="1598,1096,1747,1137"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#a45587cac497ea0ba2c5d18d33c17bd27" title="Convert an Ipv4 address given as an unsigned integer value to buffer array of 4Bytes." alt="" coords="1035,521,1191,563"/>
<area shape="rect" href="classns3_1_1_sink.html#a71e468d7136c559403186ea834bbb660" title="The method constructs the onion message as a protobuf object." alt="" coords="1033,587,1192,614"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#ae6eca00c2ab2e25c208bbcc2b303433f" title="Convert a string to an array of unsigned chars." alt="" coords="1035,639,1191,680"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#aa0e89ab4789722e46a24403ef4fdca78" title=" " alt="" coords="1598,965,1747,1007"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#af2c470892e46cdd55688d0187fd2318b" title=" " alt="" coords="1287,1028,1437,1069"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#a4dc0c7fbda4dccf41b5c3e5a5dda1a36" title=" " alt="" coords="1598,1031,1747,1072"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a345a7f76017cf57eaf7e02886b049378" title=" " alt="" coords="1263,725,1461,767"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a2856fc8d0b443002953e8a8e2c62ae97" title=" " alt="" coords="1263,791,1461,832"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a3542bef0929d36d6ea4a4c473e819a35" title="Call to signal the transmission of a Packet at the application layer." alt="" coords="1271,857,1453,883"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a02a8a79729b3e6f10be94bd21e01358f" title="Send a packet through a TCP connection to the remote address." alt="" coords="1253,907,1471,934"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a07ba389aeacb242a7eb22bafbd000433" title=" " alt="" coords="1240,333,1484,375"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a4d2ad7d5770fa5c0178132b1ff56fb27" title=" " alt="" coords="1243,399,1481,440"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a74ec6824cca0f510e4c18f1640e9afc4" title=" " alt="" coords="1263,464,1461,505"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a6cf2ea1bb2563621166b954fa4ffe05c" title=" " alt="" coords="1263,529,1461,571"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a87b7563f40411fea611b108be67a5398" title=" " alt="" coords="1263,595,1461,636"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#a2c0f3e75030b80a223f83efe785fc21b" title="Convert an array of unsigned chars to a std::string." alt="" coords="1284,660,1440,701"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#adda5d4aa78dd11bb27769c39b357634b" title=" " alt="" coords="1568,689,1777,745"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a953253eaf1ce724b9b216064c6bd8f97" title=" " alt="" coords="1560,623,1785,664"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a3d832a8dff8b14b4620791fff82bf5e3" title=" " alt="" coords="1532,835,1813,876"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#aefa8e129c6a9e94fd26211b7f2fc08c4" title=" " alt="" coords="1561,769,1784,811"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#af8dc6dffc09f815bc2861013cef6d60b" title="The method checks if the onion was received by the next receiving node If the onion was not received ..." alt="" coords="1574,900,1771,941"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#acb312d32337ab31cbd2d14de997ca5ad" title=" " alt="" coords="1573,457,1772,513"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a5d9c47229fd6a915a6eb26b740bdb387" title="method for receiving packets able to merge segment fragments if a packet was split into multiple segm..." alt="" coords="518,663,702,690"/>
<area shape="rect" href="classns3_1_1_segment_num.html#a736403fa2fffeb464c1a1e18ff484b37" title=" " alt="" coords="757,689,985,715"/>
</map>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classns3_1_1_sink_afed3482312048d13efa38d1235bbf504_icgraph.png" border="0" usemap="#classns3_1_1_sink_afed3482312048d13efa38d1235bbf504_icgraph" alt=""/></div>
<map name="classns3_1_1_sink_afed3482312048d13efa38d1235bbf504_icgraph" id="classns3_1_1_sink_afed3482312048d13efa38d1235bbf504_icgraph">
<area shape="rect" title="Recieve a new packet from socket Check if the packet is a handshake packet or a packet containing an ..." alt="" coords="428,5,611,32"/>
<area shape="rect" href="classns3_1_1_sink.html#a828baaddc6bd9c862ca1eab675a2cc8b" title="Accept new TCP connections." alt="" coords="247,5,380,32"/>
<area shape="rect" href="classns3_1_1_sink.html#a59faa47e4235feac5d9be91842c82710" title="1.Start the application run ns3::Wsn_node::Configure() 2.Generate new encryption keys 3...." alt="" coords="5,5,199,32"/>
</map>
</div>

</div>
</div>
<a id="a643466bbfefcdec90e18492d8da1527c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a643466bbfefcdec90e18492d8da1527c">&#9670;&nbsp;</a></span>RecvHandshake()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ns3::Sink::RecvHandshake </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classprotomessage_1_1_proto_packet___handshake.html">protomessage::ProtoPacket_Handshake</a> *&#160;</td>
          <td class="paramname"><em>handshake_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">InetSocketAddress&#160;</td>
          <td class="paramname"><em>from</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>When receiving a new handshake with a node. </p>
<p>The sink node stores the sensor node IP address and publickey (PK) in std::map structure <code>m_nodeManager</code> , where IP is the key and PK is the value</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handshake_data</td><td>pointer to the protobuf object holding message data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">from</td><td>the IP address of the sensor node </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sink_8cc_source.html#l00142">142</a> of file <a class="el" href="sink_8cc_source.html">sink.cc</a>.</p>

<p class="reference">References <a class="el" href="sink_8h_source.html#l00209">m_nodeManager</a>, <a class="el" href="wsn__node_8h_source.html#l00225">ns3::Wsn_node::m_outputManager</a>, and <a class="el" href="proto-packet_8pb_8h_source.html#l01090">protomessage::ProtoPacket_Handshake::publickey()</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00095">ReceivePacket()</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classns3_1_1_sink_a643466bbfefcdec90e18492d8da1527c_cgraph.png" border="0" usemap="#classns3_1_1_sink_a643466bbfefcdec90e18492d8da1527c_cgraph" alt=""/></div>
<map name="classns3_1_1_sink_a643466bbfefcdec90e18492d8da1527c_cgraph" id="classns3_1_1_sink_a643466bbfefcdec90e18492d8da1527c_cgraph">
<area shape="rect" title="When receiving a new handshake with a node." alt="" coords="5,13,199,39"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___handshake.html#ad7341592fd67dce6ac5d9930576544f0" title=" " alt="" coords="247,5,445,47"/>
</map>
</div>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classns3_1_1_sink_a643466bbfefcdec90e18492d8da1527c_icgraph.png" border="0" usemap="#classns3_1_1_sink_a643466bbfefcdec90e18492d8da1527c_icgraph" alt=""/></div>
<map name="classns3_1_1_sink_a643466bbfefcdec90e18492d8da1527c_icgraph" id="classns3_1_1_sink_a643466bbfefcdec90e18492d8da1527c_icgraph">
<area shape="rect" title="When receiving a new handshake with a node." alt="" coords="659,5,852,32"/>
<area shape="rect" href="classns3_1_1_sink.html#afed3482312048d13efa38d1235bbf504" title="Recieve a new packet from socket Check if the packet is a handshake packet or a packet containing an ..." alt="" coords="428,5,611,32"/>
<area shape="rect" href="classns3_1_1_sink.html#a828baaddc6bd9c862ca1eab675a2cc8b" title="Accept new TCP connections." alt="" coords="247,5,380,32"/>
<area shape="rect" href="classns3_1_1_sink.html#a59faa47e4235feac5d9be91842c82710" title="1.Start the application run ns3::Wsn_node::Configure() 2.Generate new encryption keys 3...." alt="" coords="5,5,199,32"/>
</map>
</div>

</div>
</div>
<a id="a1580afa832d0c29fab74b36a386c5960"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1580afa832d0c29fab74b36a386c5960">&#9670;&nbsp;</a></span>RecvOnion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ns3::Sink::RecvOnion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classprotomessage_1_1_proto_packet___onion_body.html">protomessage::ProtoPacket_OnionBody</a> *&#160;</td>
          <td class="paramname"><em>onion_body</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Triggered when an onion message is received back at the sink node Data about the message is captured and a new onion message is scheduled. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">onion_body</td><td>pointer to the protobuf object holding onion data </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sink_8cc_source.html#l00154">154</a> of file <a class="el" href="sink_8cc_source.html">sink.cc</a>.</p>

<p class="reference">References <a class="el" href="wsn__node_8h_source.html#l00225">ns3::Wsn_node::m_outputManager</a>, and <a class="el" href="sink_8cc_source.html#l00163">SinkTasks()</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00095">ReceivePacket()</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classns3_1_1_sink_a1580afa832d0c29fab74b36a386c5960_cgraph.png" border="0" usemap="#classns3_1_1_sink_a1580afa832d0c29fab74b36a386c5960_cgraph" alt=""/></div>
<map name="classns3_1_1_sink_a1580afa832d0c29fab74b36a386c5960_cgraph" id="classns3_1_1_sink_a1580afa832d0c29fab74b36a386c5960_cgraph">
<area shape="rect" title="Triggered when an onion message is received back at the sink node Data about the message is captured ..." alt="" coords="5,370,164,397"/>
<area shape="rect" href="classns3_1_1_sink.html#a4a2b4bb96ca5a7f87779c9debe616c49" title="Schedule the creation of a new onion based on the path length specified in m_onionPathLengths If all ..." alt="" coords="212,370,365,397"/>
<area shape="rect" href="classns3_1_1_sink.html#afb970f60a50eeb59c9bbf77189716294" title="Method that constructs the onion head from route and routeLen parameters." alt="" coords="413,345,591,371"/>
<area shape="rect" href="classns3_1_1_sink.html#a879a50c3cf9317ee869f855e7080d17d" title="The method builds the path of the onion message by randomly selecting sensor nodes from the m_nodeMan..." alt="" coords="419,395,585,422"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#a0da1e54f52d99df702dd240fce651981" title=" " alt="" coords="643,71,793,112"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#ab3882cb5b24d0746cfbca7db0a0f2307" title=" " alt="" coords="1203,136,1353,177"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#a45587cac497ea0ba2c5d18d33c17bd27" title="Convert an Ipv4 address given as an unsigned integer value to buffer array of 4Bytes." alt="" coords="640,337,796,379"/>
<area shape="rect" href="classns3_1_1_sink.html#a71e468d7136c559403186ea834bbb660" title="The method constructs the onion message as a protobuf object." alt="" coords="639,570,797,597"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#ae6eca00c2ab2e25c208bbcc2b303433f" title="Convert a string to an array of unsigned chars." alt="" coords="640,621,796,663"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#aa0e89ab4789722e46a24403ef4fdca78" title=" " alt="" coords="1203,5,1353,47"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#af2c470892e46cdd55688d0187fd2318b" title=" " alt="" coords="893,71,1042,112"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#a4dc0c7fbda4dccf41b5c3e5a5dda1a36" title=" " alt="" coords="1203,71,1353,112"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a345a7f76017cf57eaf7e02886b049378" title=" " alt="" coords="868,283,1067,324"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a2856fc8d0b443002953e8a8e2c62ae97" title=" " alt="" coords="868,348,1067,389"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet.html#a458919e3afa59bad3f09ba44fb2585b2" title=" " alt="" coords="868,413,1067,455"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet.html#a71f5021a442813efa9b776fdc887c134" title=" " alt="" coords="868,479,1067,520"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a3542bef0929d36d6ea4a4c473e819a35" title="Call to signal the transmission of a Packet at the application layer." alt="" coords="876,545,1059,571"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a02a8a79729b3e6f10be94bd21e01358f" title="Send a packet through a TCP connection to the remote address." alt="" coords="858,595,1077,622"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a07ba389aeacb242a7eb22bafbd000433" title=" " alt="" coords="845,647,1089,688"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a4d2ad7d5770fa5c0178132b1ff56fb27" title=" " alt="" coords="848,712,1087,753"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a74ec6824cca0f510e4c18f1640e9afc4" title=" " alt="" coords="868,777,1067,819"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a6cf2ea1bb2563621166b954fa4ffe05c" title=" " alt="" coords="868,843,1067,884"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a87b7563f40411fea611b108be67a5398" title=" " alt="" coords="868,908,1067,949"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#a2c0f3e75030b80a223f83efe785fc21b" title="Convert an array of unsigned chars to a std::string." alt="" coords="889,973,1045,1015"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#adda5d4aa78dd11bb27769c39b357634b" title=" " alt="" coords="1173,202,1383,258"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a0575c701e50fe9c30f6b363630883c9e" title=" " alt="" coords="1167,283,1389,324"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a953253eaf1ce724b9b216064c6bd8f97" title=" " alt="" coords="1165,348,1391,389"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a3d832a8dff8b14b4620791fff82bf5e3" title=" " alt="" coords="1137,413,1419,455"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#aefa8e129c6a9e94fd26211b7f2fc08c4" title=" " alt="" coords="1167,479,1389,520"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#af8dc6dffc09f815bc2861013cef6d60b" title="The method checks if the onion was received by the next receiving node If the onion was not received ..." alt="" coords="1179,588,1377,629"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#acb312d32337ab31cbd2d14de997ca5ad" title=" " alt="" coords="1179,770,1377,826"/>
</map>
</div>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classns3_1_1_sink_a1580afa832d0c29fab74b36a386c5960_icgraph.png" border="0" usemap="#classns3_1_1_sink_a1580afa832d0c29fab74b36a386c5960_icgraph" alt=""/></div>
<map name="classns3_1_1_sink_a1580afa832d0c29fab74b36a386c5960_icgraph" id="classns3_1_1_sink_a1580afa832d0c29fab74b36a386c5960_icgraph">
<area shape="rect" title="Triggered when an onion message is received back at the sink node Data about the message is captured ..." alt="" coords="659,5,817,32"/>
<area shape="rect" href="classns3_1_1_sink.html#afed3482312048d13efa38d1235bbf504" title="Recieve a new packet from socket Check if the packet is a handshake packet or a packet containing an ..." alt="" coords="428,5,611,32"/>
<area shape="rect" href="classns3_1_1_sink.html#a828baaddc6bd9c862ca1eab675a2cc8b" title="Accept new TCP connections." alt="" coords="247,5,380,32"/>
<area shape="rect" href="classns3_1_1_sink.html#a59faa47e4235feac5d9be91842c82710" title="1.Start the application run ns3::Wsn_node::Configure() 2.Generate new encryption keys 3...." alt="" coords="5,5,199,32"/>
</map>
</div>

</div>
</div>
<a id="a879a50c3cf9317ee869f855e7080d17d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a879a50c3cf9317ee869f855e7080d17d">&#9670;&nbsp;</a></span>SelectRoute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ns3::Sink::SelectRoute </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>route</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>routeLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method builds the path of the onion message by randomly selecting sensor nodes from the <code>m_nodeManager</code> structure. </p>
<p>The path can have loops, but the same node cannot be placed in two consequent postions in the onion message path. The onion path must be of length &gt;= 3.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">route</td><td>pointer to an array of length <code>routeLen</code> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">routeLen</td><td>length of the array <code>route</code> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sink_8cc_source.html#l00202">202</a> of file <a class="el" href="sink_8cc_source.html">sink.cc</a>.</p>

<p class="reference">References <a class="el" href="sink_8h_source.html#l00209">m_nodeManager</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00163">SinkTasks()</a>.</p>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classns3_1_1_sink_a879a50c3cf9317ee869f855e7080d17d_icgraph.png" border="0" usemap="#classns3_1_1_sink_a879a50c3cf9317ee869f855e7080d17d_icgraph" alt=""/></div>
<map name="classns3_1_1_sink_a879a50c3cf9317ee869f855e7080d17d_icgraph" id="classns3_1_1_sink_a879a50c3cf9317ee869f855e7080d17d_icgraph">
<area shape="rect" title="The method builds the path of the onion message by randomly selecting sensor nodes from the m_nodeMan..." alt="" coords="1067,56,1233,83"/>
<area shape="rect" href="classns3_1_1_sink.html#a4a2b4bb96ca5a7f87779c9debe616c49" title="Schedule the creation of a new onion based on the path length specified in m_onionPathLengths If all ..." alt="" coords="865,56,1019,83"/>
<area shape="rect" href="classns3_1_1_sink.html#adb3593f0c5e1037d8a6cb429ff114b2e" title="Each five seconds call the ns3::OnionValidator and check if at least one onion message is alive Other..." alt="" coords="436,5,603,32"/>
<area shape="rect" href="classns3_1_1_sink.html#a59faa47e4235feac5d9be91842c82710" title="1.Start the application run ns3::Wsn_node::Configure() 2.Generate new encryption keys 3...." alt="" coords="5,56,199,83"/>
<area shape="rect" href="classns3_1_1_sink.html#a1580afa832d0c29fab74b36a386c5960" title="Triggered when an onion message is received back at the sink node Data about the message is captured ..." alt="" coords="659,107,817,133"/>
<area shape="rect" href="classns3_1_1_sink.html#afed3482312048d13efa38d1235bbf504" title="Recieve a new packet from socket Check if the packet is a handshake packet or a packet containing an ..." alt="" coords="428,107,611,133"/>
<area shape="rect" href="classns3_1_1_sink.html#a828baaddc6bd9c862ca1eab675a2cc8b" title="Accept new TCP connections." alt="" coords="247,107,380,133"/>
</map>
</div>

</div>
</div>
<a id="a71e468d7136c559403186ea834bbb660"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71e468d7136c559403186ea834bbb660">&#9670;&nbsp;</a></span>SendOnion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ns3::Sink::SendOnion </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>firstHop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>routeLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>cipher</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cipherLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method constructs the onion message as a protobuf object. </p>
<p>The method sends the onion message to the sesor node at the <code>firstHop</code> address The method sets the tracking of the onion by calling <a class="el" href="classns3_1_1_onion_validator.html#af11120d170d6a36eaa9ba90f2e3de487" title="Called by the sink node, set up the m_onionSeq to the onionId value for keeping track of the onion.">ns3::OnionValidator::StartOnion()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">firstHop</td><td>IP address of the first sensor node in the onion path </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">routeLen</td><td>length of the onion path </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">cipher</td><td>pointer to the ciphertext of the onion head </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cipherLen</td><td>length in the number of bytes of the <code>cipher</code> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sink_8cc_source.html#l00272">272</a> of file <a class="el" href="sink_8cc_source.html">sink.cc</a>.</p>

<p class="reference">References <a class="el" href="enums_8h_source.html#l00108">ns3::Aggregate</a>, <a class="el" href="enums_8h_source.html#l00110">ns3::AggregateAndFixed</a>, <a class="el" href="proto-packet_8pb_8cc_source.html#l00361">protomessage::ProtoPacket_OnionHead::ByteSizeLong()</a>, <a class="el" href="proto-packet_8pb_8cc_source.html#l00623">protomessage::ProtoPacket_OnionBody::ByteSizeLong()</a>, <a class="el" href="enums_8h_source.html#l00109">ns3::FixedSize</a>, <a class="el" href="wsn__node_8h_source.html#l00227">ns3::Wsn_node::m_address</a>, <a class="el" href="sink_8h_source.html#l00214">m_bodyOptions</a>, <a class="el" href="sink_8h_source.html#l00215">m_bodySize</a>, <a class="el" href="sink_8h_source.html#l00210">m_decoyNum</a>, <a class="el" href="sink_8h_source.html#l00213">m_fixedOnionSize</a>, <a class="el" href="sink_8h_source.html#l00225">m_onionId</a>, <a class="el" href="wsn__node_8h_source.html#l00230">ns3::Wsn_node::m_onionManager</a>, <a class="el" href="wsn__node_8h_source.html#l00226">ns3::Wsn_node::m_onionValidator</a>, <a class="el" href="wsn__node_8h_source.html#l00225">ns3::Wsn_node::m_outputManager</a>, <a class="el" href="wsn__node_8h_source.html#l00224">ns3::Wsn_node::m_port</a>, <a class="el" href="proto-packet_8pb_8h_source.html#l01396">protomessage::ProtoPacket::mutable_o_body()</a>, <a class="el" href="proto-packet_8pb_8h_source.html#l01306">protomessage::ProtoPacket::mutable_o_head()</a>, <a class="el" href="enums_8h_source.html#l00107">ns3::NO_Body</a>, <a class="el" href="wsn__node_8cc_source.html#l00076">ns3::Wsn_node::NotifyTx()</a>, <a class="el" href="wsn__node_8cc_source.html#l00217">ns3::Wsn_node::SendSegment()</a>, <a class="el" href="proto-packet_8pb_8h_source.html#l01000">protomessage::ProtoPacket_OnionBody::set_aggregatedvalue()</a>, <a class="el" href="classprotomessage_1_1_proto_packet___onion_head.html#a4d2ad7d5770fa5c0178132b1ff56fb27">protomessage::ProtoPacket_OnionHead::set_onion_message()</a>, <a class="el" href="proto-packet_8pb_8h_source.html#l00830">protomessage::ProtoPacket_OnionHead::set_onionid()</a>, <a class="el" href="classprotomessage_1_1_proto_packet___onion_head.html#a6cf2ea1bb2563621166b954fa4ffe05c">protomessage::ProtoPacket_OnionHead::set_padding()</a>, <a class="el" href="classprotomessage_1_1_proto_packet___onion_body.html#a87b7563f40411fea611b108be67a5398">protomessage::ProtoPacket_OnionBody::set_padding()</a>, and <a class="el" href="onionmanager_8cc_source.html#l00147">ns3::OnionManager::UcharToString()</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00230">PrepareOnion()</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classns3_1_1_sink_a71e468d7136c559403186ea834bbb660_cgraph.png" border="0" usemap="#classns3_1_1_sink_a71e468d7136c559403186ea834bbb660_cgraph" alt=""/></div>
<map name="classns3_1_1_sink_a71e468d7136c559403186ea834bbb660_cgraph" id="classns3_1_1_sink_a71e468d7136c559403186ea834bbb660_cgraph">
<area shape="rect" title="The method constructs the onion message as a protobuf object." alt="" coords="5,493,164,520"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a345a7f76017cf57eaf7e02886b049378" title=" " alt="" coords="235,118,433,159"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a2856fc8d0b443002953e8a8e2c62ae97" title=" " alt="" coords="235,217,433,258"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet.html#a458919e3afa59bad3f09ba44fb2585b2" title=" " alt="" coords="235,282,433,323"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet.html#a71f5021a442813efa9b776fdc887c134" title=" " alt="" coords="235,347,433,389"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a3542bef0929d36d6ea4a4c473e819a35" title="Call to signal the transmission of a Packet at the application layer." alt="" coords="243,413,425,440"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a02a8a79729b3e6f10be94bd21e01358f" title="Send a packet through a TCP connection to the remote address." alt="" coords="225,464,443,491"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a07ba389aeacb242a7eb22bafbd000433" title=" " alt="" coords="212,515,456,557"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a4d2ad7d5770fa5c0178132b1ff56fb27" title=" " alt="" coords="215,581,453,622"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a74ec6824cca0f510e4c18f1640e9afc4" title=" " alt="" coords="235,646,433,687"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a6cf2ea1bb2563621166b954fa4ffe05c" title=" " alt="" coords="235,711,433,753"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a87b7563f40411fea611b108be67a5398" title=" " alt="" coords="235,777,433,818"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#a2c0f3e75030b80a223f83efe785fc21b" title="Convert an array of unsigned chars to a std::string." alt="" coords="256,842,412,883"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#adda5d4aa78dd11bb27769c39b357634b" title=" " alt="" coords="540,5,749,61"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a0575c701e50fe9c30f6b363630883c9e" title=" " alt="" coords="534,86,755,127"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a953253eaf1ce724b9b216064c6bd8f97" title=" " alt="" coords="532,151,757,193"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a3d832a8dff8b14b4620791fff82bf5e3" title=" " alt="" coords="504,217,785,258"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#aefa8e129c6a9e94fd26211b7f2fc08c4" title=" " alt="" coords="533,282,756,323"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#af8dc6dffc09f815bc2861013cef6d60b" title="The method checks if the onion was received by the next receiving node If the onion was not received ..." alt="" coords="546,457,743,498"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#acb312d32337ab31cbd2d14de997ca5ad" title=" " alt="" coords="545,639,744,695"/>
</map>
</div>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classns3_1_1_sink_a71e468d7136c559403186ea834bbb660_icgraph.png" border="0" usemap="#classns3_1_1_sink_a71e468d7136c559403186ea834bbb660_icgraph" alt=""/></div>
<map name="classns3_1_1_sink_a71e468d7136c559403186ea834bbb660_icgraph" id="classns3_1_1_sink_a71e468d7136c559403186ea834bbb660_icgraph">
<area shape="rect" title="The method constructs the onion message as a protobuf object." alt="" coords="1292,56,1451,83"/>
<area shape="rect" href="classns3_1_1_sink.html#afb970f60a50eeb59c9bbf77189716294" title="Method that constructs the onion head from route and routeLen parameters." alt="" coords="1067,56,1244,83"/>
<area shape="rect" href="classns3_1_1_sink.html#a4a2b4bb96ca5a7f87779c9debe616c49" title="Schedule the creation of a new onion based on the path length specified in m_onionPathLengths If all ..." alt="" coords="865,56,1019,83"/>
<area shape="rect" href="classns3_1_1_sink.html#adb3593f0c5e1037d8a6cb429ff114b2e" title="Each five seconds call the ns3::OnionValidator and check if at least one onion message is alive Other..." alt="" coords="436,5,603,32"/>
<area shape="rect" href="classns3_1_1_sink.html#a59faa47e4235feac5d9be91842c82710" title="1.Start the application run ns3::Wsn_node::Configure() 2.Generate new encryption keys 3...." alt="" coords="5,56,199,83"/>
<area shape="rect" href="classns3_1_1_sink.html#a1580afa832d0c29fab74b36a386c5960" title="Triggered when an onion message is received back at the sink node Data about the message is captured ..." alt="" coords="659,107,817,133"/>
<area shape="rect" href="classns3_1_1_sink.html#afed3482312048d13efa38d1235bbf504" title="Recieve a new packet from socket Check if the packet is a handshake packet or a packet containing an ..." alt="" coords="428,107,611,133"/>
<area shape="rect" href="classns3_1_1_sink.html#a828baaddc6bd9c862ca1eab675a2cc8b" title="Accept new TCP connections." alt="" coords="247,107,380,133"/>
</map>
</div>

</div>
</div>
<a id="ae18a8374a6ab08eebf18ecf11e944b70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae18a8374a6ab08eebf18ecf11e944b70">&#9670;&nbsp;</a></span>Setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ns3::Sink::Setup </td>
          <td>(</td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>onionPathlengths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>numOnionLengths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>repeateTimes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup sink node parameters after the application installation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">onionPathLengths</td><td>pointer to the array where each value is representing the number of hops the onion will travel to return back to the sink node issuer of the onion. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numOnionLengths</td><td>number of cells of the array <code>onionPathLengths</code> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">repeateTimes</td><td>integer specifying the number of times to generate the onion message for each value of the array <code>onionPathsLengths</code> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sink_8cc_source.html#l00073">73</a> of file <a class="el" href="sink_8cc_source.html">sink.cc</a>.</p>

<p class="reference">References <a class="el" href="sink_8h_source.html#l00222">m_numOnionLengths</a>, <a class="el" href="sink_8h_source.html#l00221">m_onionPathLengths</a>, and <a class="el" href="sink_8h_source.html#l00218">m_repeateTimes</a>.</p>

</div>
</div>
<a id="a4a2b4bb96ca5a7f87779c9debe616c49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a2b4bb96ca5a7f87779c9debe616c49">&#9670;&nbsp;</a></span>SinkTasks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ns3::Sink::SinkTasks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedule the creation of a new onion based on the path length specified in <code>m_onionPathLengths</code> If all onions specified in <code>m_onionPathLengths</code> were executed for <code>m_repeateTimes</code> Then end the simulation. </p>

<p class="definition">Definition at line <a class="el" href="sink_8cc_source.html#l00163">163</a> of file <a class="el" href="sink_8cc_source.html">sink.cc</a>.</p>

<p class="reference">References <a class="el" href="sink_8h_source.html#l00209">m_nodeManager</a>, <a class="el" href="sink_8h_source.html#l00222">m_numOnionLengths</a>, <a class="el" href="sink_8h_source.html#l00220">m_onionLengthIndex</a>, <a class="el" href="sink_8h_source.html#l00221">m_onionPathLengths</a>, <a class="el" href="wsn__node_8h_source.html#l00225">ns3::Wsn_node::m_outputManager</a>, <a class="el" href="sink_8h_source.html#l00219">m_repeateCount</a>, <a class="el" href="sink_8h_source.html#l00218">m_repeateTimes</a>, <a class="el" href="sink_8cc_source.html#l00230">PrepareOnion()</a>, and <a class="el" href="sink_8cc_source.html#l00202">SelectRoute()</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00330">CheckOnion()</a>, <a class="el" href="sink_8cc_source.html#l00154">RecvOnion()</a>, and <a class="el" href="sink_8cc_source.html#l00346">StartApplication()</a>.</p>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classns3_1_1_sink_a4a2b4bb96ca5a7f87779c9debe616c49_cgraph.png" border="0" usemap="#classns3_1_1_sink_a4a2b4bb96ca5a7f87779c9debe616c49_cgraph" alt=""/></div>
<map name="classns3_1_1_sink_a4a2b4bb96ca5a7f87779c9debe616c49_cgraph" id="classns3_1_1_sink_a4a2b4bb96ca5a7f87779c9debe616c49_cgraph">
<area shape="rect" title="Schedule the creation of a new onion based on the path length specified in m_onionPathLengths If all ..." alt="" coords="5,370,159,397"/>
<area shape="rect" href="classns3_1_1_sink.html#afb970f60a50eeb59c9bbf77189716294" title="Method that constructs the onion head from route and routeLen parameters." alt="" coords="207,345,384,371"/>
<area shape="rect" href="classns3_1_1_sink.html#a879a50c3cf9317ee869f855e7080d17d" title="The method builds the path of the onion message by randomly selecting sensor nodes from the m_nodeMan..." alt="" coords="212,395,379,422"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#a0da1e54f52d99df702dd240fce651981" title=" " alt="" coords="437,71,586,112"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#ab3882cb5b24d0746cfbca7db0a0f2307" title=" " alt="" coords="997,136,1146,177"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#a45587cac497ea0ba2c5d18d33c17bd27" title="Convert an Ipv4 address given as an unsigned integer value to buffer array of 4Bytes." alt="" coords="433,337,589,379"/>
<area shape="rect" href="classns3_1_1_sink.html#a71e468d7136c559403186ea834bbb660" title="The method constructs the onion message as a protobuf object." alt="" coords="432,570,591,597"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#ae6eca00c2ab2e25c208bbcc2b303433f" title="Convert a string to an array of unsigned chars." alt="" coords="433,621,589,663"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#aa0e89ab4789722e46a24403ef4fdca78" title=" " alt="" coords="997,5,1146,47"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#af2c470892e46cdd55688d0187fd2318b" title=" " alt="" coords="686,71,835,112"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#a4dc0c7fbda4dccf41b5c3e5a5dda1a36" title=" " alt="" coords="997,71,1146,112"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a345a7f76017cf57eaf7e02886b049378" title=" " alt="" coords="661,283,860,324"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a2856fc8d0b443002953e8a8e2c62ae97" title=" " alt="" coords="661,348,860,389"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet.html#a458919e3afa59bad3f09ba44fb2585b2" title=" " alt="" coords="661,413,860,455"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet.html#a71f5021a442813efa9b776fdc887c134" title=" " alt="" coords="661,479,860,520"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a3542bef0929d36d6ea4a4c473e819a35" title="Call to signal the transmission of a Packet at the application layer." alt="" coords="669,545,852,571"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a02a8a79729b3e6f10be94bd21e01358f" title="Send a packet through a TCP connection to the remote address." alt="" coords="651,595,870,622"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a07ba389aeacb242a7eb22bafbd000433" title=" " alt="" coords="639,647,883,688"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a4d2ad7d5770fa5c0178132b1ff56fb27" title=" " alt="" coords="641,712,880,753"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a74ec6824cca0f510e4c18f1640e9afc4" title=" " alt="" coords="661,777,860,819"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a6cf2ea1bb2563621166b954fa4ffe05c" title=" " alt="" coords="661,843,860,884"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a87b7563f40411fea611b108be67a5398" title=" " alt="" coords="661,908,860,949"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#a2c0f3e75030b80a223f83efe785fc21b" title="Convert an array of unsigned chars to a std::string." alt="" coords="683,973,839,1015"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#adda5d4aa78dd11bb27769c39b357634b" title=" " alt="" coords="967,202,1176,258"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a0575c701e50fe9c30f6b363630883c9e" title=" " alt="" coords="961,283,1182,324"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a953253eaf1ce724b9b216064c6bd8f97" title=" " alt="" coords="959,348,1184,389"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a3d832a8dff8b14b4620791fff82bf5e3" title=" " alt="" coords="931,413,1212,455"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#aefa8e129c6a9e94fd26211b7f2fc08c4" title=" " alt="" coords="960,479,1183,520"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#af8dc6dffc09f815bc2861013cef6d60b" title="The method checks if the onion was received by the next receiving node If the onion was not received ..." alt="" coords="973,588,1170,629"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#acb312d32337ab31cbd2d14de997ca5ad" title=" " alt="" coords="972,770,1171,826"/>
</map>
</div>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classns3_1_1_sink_a4a2b4bb96ca5a7f87779c9debe616c49_icgraph.png" border="0" usemap="#classns3_1_1_sink_a4a2b4bb96ca5a7f87779c9debe616c49_icgraph" alt=""/></div>
<map name="classns3_1_1_sink_a4a2b4bb96ca5a7f87779c9debe616c49_icgraph" id="classns3_1_1_sink_a4a2b4bb96ca5a7f87779c9debe616c49_icgraph">
<area shape="rect" title="Schedule the creation of a new onion based on the path length specified in m_onionPathLengths If all ..." alt="" coords="865,56,1019,83"/>
<area shape="rect" href="classns3_1_1_sink.html#adb3593f0c5e1037d8a6cb429ff114b2e" title="Each five seconds call the ns3::OnionValidator and check if at least one onion message is alive Other..." alt="" coords="436,5,603,32"/>
<area shape="rect" href="classns3_1_1_sink.html#a59faa47e4235feac5d9be91842c82710" title="1.Start the application run ns3::Wsn_node::Configure() 2.Generate new encryption keys 3...." alt="" coords="5,56,199,83"/>
<area shape="rect" href="classns3_1_1_sink.html#a1580afa832d0c29fab74b36a386c5960" title="Triggered when an onion message is received back at the sink node Data about the message is captured ..." alt="" coords="659,107,817,133"/>
<area shape="rect" href="classns3_1_1_sink.html#afed3482312048d13efa38d1235bbf504" title="Recieve a new packet from socket Check if the packet is a handshake packet or a packet containing an ..." alt="" coords="428,107,611,133"/>
<area shape="rect" href="classns3_1_1_sink.html#a828baaddc6bd9c862ca1eab675a2cc8b" title="Accept new TCP connections." alt="" coords="247,107,380,133"/>
</map>
</div>

</div>
</div>
<a id="a59faa47e4235feac5d9be91842c82710"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59faa47e4235feac5d9be91842c82710">&#9670;&nbsp;</a></span>StartApplication()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ns3::Sink::StartApplication </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>1.Start the application run <a class="el" href="classns3_1_1_wsn__node.html#a48a4550a348bf3e8a4b7947ecce6663a" title="1.">ns3::Wsn_node::Configure()</a> 2.Generate new encryption keys 3.Set callback at new socket connection 4.Schedule the execution of <a class="el" href="classns3_1_1_sink.html#a4a2b4bb96ca5a7f87779c9debe616c49" title="Schedule the creation of a new onion based on the path length specified in m_onionPathLengths If all ...">ns3::Sink::SinkTasks()</a> after <code>m_onionDelay</code> milliseconds 5.Schedule the execution of <a class="el" href="classns3_1_1_sink.html#adb3593f0c5e1037d8a6cb429ff114b2e" title="Each five seconds call the ns3::OnionValidator and check if at least one onion message is alive Other...">ns3::Sink::CheckOnion()</a> after <code>m_onionDelay</code> milliseconds and 5 seconds </p>

<p>Reimplemented from <a class="el" href="classns3_1_1_wsn__node.html#ab84305c6bc786b9f2a9848627b087f28">ns3::Wsn_node</a>.</p>

<p class="definition">Definition at line <a class="el" href="sink_8cc_source.html#l00346">346</a> of file <a class="el" href="sink_8cc_source.html">sink.cc</a>.</p>

<p class="reference">References <a class="el" href="sink_8cc_source.html#l00087">Accept()</a>, <a class="el" href="sink_8cc_source.html#l00330">CheckOnion()</a>, <a class="el" href="wsn__node_8cc_source.html#l00102">ns3::Wsn_node::Configure()</a>, <a class="el" href="onionmanager_8cc_source.html#l00081">ns3::OnionManager::GenerateNewKeyPair()</a>, <a class="el" href="onionmanager_8cc_source.html#l00103">ns3::OnionManager::GetPKtoString()</a>, <a class="el" href="onionmanager_8cc_source.html#l00111">ns3::OnionManager::GetSKtoString()</a>, <a class="el" href="wsn__node_8h_source.html#l00229">ns3::Wsn_node::m_delay</a>, <a class="el" href="sink_8h_source.html#l00206">m_numnodes</a>, <a class="el" href="sink_8h_source.html#l00207">m_onionDelay</a>, <a class="el" href="wsn__node_8h_source.html#l00230">ns3::Wsn_node::m_onionManager</a>, <a class="el" href="sink_8h_source.html#l00231">m_publickey</a>, <a class="el" href="sink_8h_source.html#l00232">m_secretkey</a>, <a class="el" href="wsn__node_8h_source.html#l00228">ns3::Wsn_node::m_socket</a>, and <a class="el" href="sink_8cc_source.html#l00163">SinkTasks()</a>.</p>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classns3_1_1_sink_a59faa47e4235feac5d9be91842c82710_cgraph.png" border="0" usemap="#classns3_1_1_sink_a59faa47e4235feac5d9be91842c82710_cgraph" alt=""/></div>
<map name="classns3_1_1_sink_a59faa47e4235feac5d9be91842c82710_cgraph" id="classns3_1_1_sink_a59faa47e4235feac5d9be91842c82710_cgraph">
<area shape="rect" title="1.Start the application run ns3::Wsn_node::Configure() 2.Generate new encryption keys 3...." alt="" coords="5,709,199,736"/>
<area shape="rect" href="classns3_1_1_sink.html#a828baaddc6bd9c862ca1eab675a2cc8b" title="Accept new TCP connections." alt="" coords="275,443,409,469"/>
<area shape="rect" href="classns3_1_1_sink.html#a4a2b4bb96ca5a7f87779c9debe616c49" title="Schedule the creation of a new onion based on the path length specified in m_onionPathLengths If all ..." alt="" coords="1040,633,1193,660"/>
<area shape="rect" href="classns3_1_1_sink.html#adb3593f0c5e1037d8a6cb429ff114b2e" title="Each five seconds call the ns3::OnionValidator and check if at least one onion message is alive Other..." alt="" coords="507,659,673,685"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a48a4550a348bf3e8a4b7947ecce6663a" title="1." alt="" coords="247,709,437,736"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#adc47b06603123e9a995a65b37caa9b50" title="Generate a new public/private keypair using the libsodium library." alt="" coords="263,761,421,802"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#ae39c847614f6c8944fd00cc57b81851d" title="accessor" alt="" coords="264,826,420,867"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#a33549aabe8e88c7069d7771c995f8760" title="accessor" alt="" coords="264,891,420,933"/>
<area shape="rect" href="classns3_1_1_sink.html#afed3482312048d13efa38d1235bbf504" title="Recieve a new packet from socket Check if the packet is a handshake packet or a packet containing an ..." alt="" coords="499,329,681,356"/>
<area shape="rect" href="classns3_1_1_serialization_wrapper.html#a2b74fc3a4d8919b59aa30b69193edc11" title="Getter of the data in the protocol header." alt="" coords="761,107,951,149"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet.html#a2d07e9d5945f8a6c066976cadd9eacd3" title=" " alt="" coords="757,173,955,214"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet.html#a48f926637f06001157665ba34a8319b6" title=" " alt="" coords="757,238,955,279"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet.html#a458919e3afa59bad3f09ba44fb2585b2" title=" " alt="" coords="1769,267,1968,309"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet.html#a71f5021a442813efa9b776fdc887c134" title=" " alt="" coords="1769,333,1968,374"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a4a9260067f89d4b6ea170ca2cbf86293" title="Call to signal the receipt of a Packet at the application layer." alt="" coords="764,405,948,432"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a89542320517d683b785ad9330b03b084" title=" " alt="" coords="1017,94,1216,135"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#aa616fc616e90993adc19139c5b9f19d0" title="Signal to the ns3::OnionValidator that the onion was corrctly received." alt="" coords="743,507,969,533"/>
<area shape="rect" href="classns3_1_1_sink.html#a643466bbfefcdec90e18492d8da1527c" title="When receiving a new handshake with a node." alt="" coords="759,456,953,483"/>
<area shape="rect" href="classns3_1_1_sink.html#a1580afa832d0c29fab74b36a386c5960" title="Triggered when an onion message is received back at the sink node Data about the message is captured ..." alt="" coords="777,557,935,584"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#aa0357269d4a513854b1b04cc91d57b5f" title="method for receiving a segment calls ns3::Wsn_node::RecvSeg()" alt="" coords="747,5,965,32"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a0575c701e50fe9c30f6b363630883c9e" title=" " alt="" coords="2069,361,2290,402"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___handshake.html#ad7341592fd67dce6ac5d9930576544f0" title=" " alt="" coords="1017,449,1216,490"/>
<area shape="rect" href="classns3_1_1_sink.html#afb970f60a50eeb59c9bbf77189716294" title="Method that constructs the onion head from route and routeLen parameters." alt="" coords="1289,697,1467,724"/>
<area shape="rect" href="classns3_1_1_sink.html#a879a50c3cf9317ee869f855e7080d17d" title="The method builds the path of the onion message by randomly selecting sensor nodes from the m_nodeMan..." alt="" coords="1295,633,1461,660"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#a0da1e54f52d99df702dd240fce651981" title=" " alt="" coords="1545,1030,1694,1071"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#ab3882cb5b24d0746cfbca7db0a0f2307" title=" " alt="" coords="2105,1161,2254,1202"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#a45587cac497ea0ba2c5d18d33c17bd27" title="Convert an Ipv4 address given as an unsigned integer value to buffer array of 4Bytes." alt="" coords="1541,601,1697,642"/>
<area shape="rect" href="classns3_1_1_sink.html#a71e468d7136c559403186ea834bbb660" title="The method constructs the onion message as a protobuf object." alt="" coords="1540,667,1699,693"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#ae6eca00c2ab2e25c208bbcc2b303433f" title="Convert a string to an array of unsigned chars." alt="" coords="1541,718,1697,759"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#aa0e89ab4789722e46a24403ef4fdca78" title=" " alt="" coords="2105,1030,2254,1071"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#af2c470892e46cdd55688d0187fd2318b" title=" " alt="" coords="1794,1093,1943,1134"/>
<area shape="rect" href="classns3_1_1_onion_routing.html#a4dc0c7fbda4dccf41b5c3e5a5dda1a36" title=" " alt="" coords="2105,1095,2254,1137"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a345a7f76017cf57eaf7e02886b049378" title=" " alt="" coords="1769,790,1968,831"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a2856fc8d0b443002953e8a8e2c62ae97" title=" " alt="" coords="1769,855,1968,897"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a3542bef0929d36d6ea4a4c473e819a35" title="Call to signal the transmission of a Packet at the application layer." alt="" coords="1777,921,1960,948"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a02a8a79729b3e6f10be94bd21e01358f" title="Send a packet through a TCP connection to the remote address." alt="" coords="1759,972,1978,999"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a07ba389aeacb242a7eb22bafbd000433" title=" " alt="" coords="1747,398,1991,439"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a4d2ad7d5770fa5c0178132b1ff56fb27" title=" " alt="" coords="1749,463,1988,505"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a74ec6824cca0f510e4c18f1640e9afc4" title=" " alt="" coords="1769,529,1968,570"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a6cf2ea1bb2563621166b954fa4ffe05c" title=" " alt="" coords="1769,594,1968,635"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a87b7563f40411fea611b108be67a5398" title=" " alt="" coords="1769,659,1968,701"/>
<area shape="rect" href="classns3_1_1_onion_manager.html#a2c0f3e75030b80a223f83efe785fc21b" title="Convert an array of unsigned chars to a std::string." alt="" coords="1791,725,1947,766"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#adda5d4aa78dd11bb27769c39b357634b" title=" " alt="" coords="2075,753,2284,809"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_head.html#a953253eaf1ce724b9b216064c6bd8f97" title=" " alt="" coords="2067,687,2292,729"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#a3d832a8dff8b14b4620791fff82bf5e3" title=" " alt="" coords="2039,899,2320,941"/>
<area shape="rect" href="classprotomessage_1_1_proto_packet___onion_body.html#aefa8e129c6a9e94fd26211b7f2fc08c4" title=" " alt="" coords="2068,834,2291,875"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#af8dc6dffc09f815bc2861013cef6d60b" title="The method checks if the onion was received by the next receiving node If the onion was not received ..." alt="" coords="2081,965,2278,1006"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a5d9c47229fd6a915a6eb26b740bdb387" title="method for receiving packets able to merge segment fragments if a packet was split into multiple segm..." alt="" coords="1025,5,1209,32"/>
<area shape="rect" href="classns3_1_1_segment_num.html#a736403fa2fffeb464c1a1e18ff484b37" title=" " alt="" coords="1264,5,1492,32"/>
<area shape="rect" href="classns3_1_1_wsn__node.html#a8e6fbe18b7b701bf3845a17e749fe80a" title="Retrieve the degreee this node from the OLSR routing protocol." alt="" coords="485,709,695,736"/>
</map>
</div>

</div>
</div>
<a id="a6c2061091736bd8c8efe67f7cfa8638d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c2061091736bd8c8efe67f7cfa8638d">&#9670;&nbsp;</a></span>StopApplication()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ns3::Sink::StopApplication </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stop the application. </p>

<p>Reimplemented from <a class="el" href="classns3_1_1_wsn__node.html#a9e7bc5e8253667cfd11932caca1fafb3">ns3::Wsn_node</a>.</p>

<p class="definition">Definition at line <a class="el" href="sink_8cc_source.html#l00367">367</a> of file <a class="el" href="sink_8cc_source.html">sink.cc</a>.</p>

<p class="reference">References <a class="el" href="wsn__node_8h_source.html#l00228">ns3::Wsn_node::m_socket</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a89fd13f3d755eb807949da7da7851253"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89fd13f3d755eb807949da7da7851253">&#9670;&nbsp;</a></span>m_bodyOptions</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__enumerators.html#ga9bb9b9a40e4f68c0d6c38ca01b99b864">BodyOptions</a> ns3::Sink::m_bodyOptions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sink_8h_source.html#l00214">214</a> of file <a class="el" href="sink_8h_source.html">sink.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00032">GetTypeId()</a>, and <a class="el" href="sink_8cc_source.html#l00272">SendOnion()</a>.</p>

</div>
</div>
<a id="abcac6bd3a9ef341a1ba3c8e2462f2713"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcac6bd3a9ef341a1ba3c8e2462f2713">&#9670;&nbsp;</a></span>m_bodySize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t ns3::Sink::m_bodySize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sink_8h_source.html#l00215">215</a> of file <a class="el" href="sink_8h_source.html">sink.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00032">GetTypeId()</a>, and <a class="el" href="sink_8cc_source.html#l00272">SendOnion()</a>.</p>

</div>
</div>
<a id="a7f719a36cba9ad325f1b8778c6582942"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f719a36cba9ad325f1b8778c6582942">&#9670;&nbsp;</a></span>m_decoyNum</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ns3::Sink::m_decoyNum</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">      1203</div>
</div><!-- fragment -->
<p>dummy decoy value used to obfuscate the value carried in the onion body </p>

<p class="definition">Definition at line <a class="el" href="sink_8h_source.html#l00210">210</a> of file <a class="el" href="sink_8h_source.html">sink.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00272">SendOnion()</a>.</p>

</div>
</div>
<a id="a9a8d1dc5544c0c23dc64e5d05c0c3d07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a8d1dc5544c0c23dc64e5d05c0c3d07">&#9670;&nbsp;</a></span>m_fixedOnionSize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ns3::Sink::m_fixedOnionSize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>maintain the onion size fixed by adding padding (after layer decryption) </p>

<p class="definition">Definition at line <a class="el" href="sink_8h_source.html#l00213">213</a> of file <a class="el" href="sink_8h_source.html">sink.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00032">GetTypeId()</a>, and <a class="el" href="sink_8cc_source.html#l00272">SendOnion()</a>.</p>

</div>
</div>
<a id="a1ad4094b29f0d887507e62754512dd66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ad4094b29f0d887507e62754512dd66">&#9670;&nbsp;</a></span>m_nodeManager</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;uint32_t, std::string&gt; ns3::Sink::m_nodeManager</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>hashmap to manage data about nodes in the WSN// pair &lt;IP,publickey&gt; </p>

<p class="definition">Definition at line <a class="el" href="sink_8h_source.html#l00209">209</a> of file <a class="el" href="sink_8h_source.html">sink.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00230">PrepareOnion()</a>, <a class="el" href="sink_8cc_source.html#l00142">RecvHandshake()</a>, <a class="el" href="sink_8cc_source.html#l00202">SelectRoute()</a>, and <a class="el" href="sink_8cc_source.html#l00163">SinkTasks()</a>.</p>

</div>
</div>
<a id="a9c67a34d2a7c13df45ceb0622837a297"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c67a34d2a7c13df45ceb0622837a297">&#9670;&nbsp;</a></span>m_numnodes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t ns3::Sink::m_numnodes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of sensor nodes in the simulation. </p>

<p class="definition">Definition at line <a class="el" href="sink_8h_source.html#l00206">206</a> of file <a class="el" href="sink_8h_source.html">sink.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00032">GetTypeId()</a>, and <a class="el" href="sink_8cc_source.html#l00346">StartApplication()</a>.</p>

</div>
</div>
<a id="a88e734b135d019d41045e49b81e221b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88e734b135d019d41045e49b81e221b5">&#9670;&nbsp;</a></span>m_numOnionLengths</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t ns3::Sink::m_numOnionLengths</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>size of the array m_onionPathsLengths </p>

<p class="definition">Definition at line <a class="el" href="sink_8h_source.html#l00222">222</a> of file <a class="el" href="sink_8h_source.html">sink.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00073">Setup()</a>, and <a class="el" href="sink_8cc_source.html#l00163">SinkTasks()</a>.</p>

</div>
</div>
<a id="a0dff54827ae4971de955f20bbf52f9b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dff54827ae4971de955f20bbf52f9b7">&#9670;&nbsp;</a></span>m_onionDelay</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ns3::Sink::m_onionDelay</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The sink will start sending onion messagess after OnionDelay seconds. </p>

<p class="definition">Definition at line <a class="el" href="sink_8h_source.html#l00207">207</a> of file <a class="el" href="sink_8h_source.html">sink.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00032">GetTypeId()</a>, and <a class="el" href="sink_8cc_source.html#l00346">StartApplication()</a>.</p>

</div>
</div>
<a id="ab3d2a8a78f25f1e4ecc0fa7c77aaaaba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3d2a8a78f25f1e4ecc0fa7c77aaaaba">&#9670;&nbsp;</a></span>m_onionId</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ns3::Sink::m_onionId = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>onion ID incremented each time a new onion is issued </p>

<p class="definition">Definition at line <a class="el" href="sink_8h_source.html#l00225">225</a> of file <a class="el" href="sink_8h_source.html">sink.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00095">ReceivePacket()</a>, and <a class="el" href="sink_8cc_source.html#l00272">SendOnion()</a>.</p>

</div>
</div>
<a id="a502607f89ee79b833057b530b4c36c5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a502607f89ee79b833057b530b4c36c5d">&#9670;&nbsp;</a></span>m_onionLengthIndex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ns3::Sink::m_onionLengthIndex = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>index of the current onion path length </p>

<p class="definition">Definition at line <a class="el" href="sink_8h_source.html#l00220">220</a> of file <a class="el" href="sink_8h_source.html">sink.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00163">SinkTasks()</a>.</p>

</div>
</div>
<a id="ac1f179370c7937da149f2c13c0e01616"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1f179370c7937da149f2c13c0e01616">&#9670;&nbsp;</a></span>m_onionPathLengths</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t* ns3::Sink::m_onionPathLengths</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>array holding onion path lengths </p>

<p class="definition">Definition at line <a class="el" href="sink_8h_source.html#l00221">221</a> of file <a class="el" href="sink_8h_source.html">sink.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00073">Setup()</a>, and <a class="el" href="sink_8cc_source.html#l00163">SinkTasks()</a>.</p>

</div>
</div>
<a id="a7950cd2c09ae7d0ed31537f3c781b778"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7950cd2c09ae7d0ed31537f3c781b778">&#9670;&nbsp;</a></span>m_onionStream</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::stringstream ns3::Sink::m_onionStream</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>a string stream holding the onion represented as a string </p>

<p class="definition">Definition at line <a class="el" href="sink_8h_source.html#l00228">228</a> of file <a class="el" href="sink_8h_source.html">sink.h</a>.</p>

</div>
</div>
<a id="a63c40e1faeb134c8156028607b9fae29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63c40e1faeb134c8156028607b9fae29">&#9670;&nbsp;</a></span>m_publickey</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string ns3::Sink::m_publickey</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the encryption key: publickey </p>

<p class="definition">Definition at line <a class="el" href="sink_8h_source.html#l00231">231</a> of file <a class="el" href="sink_8h_source.html">sink.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00230">PrepareOnion()</a>, and <a class="el" href="sink_8cc_source.html#l00346">StartApplication()</a>.</p>

</div>
</div>
<a id="a6617752b2f872b9c6985bc277357e803"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6617752b2f872b9c6985bc277357e803">&#9670;&nbsp;</a></span>m_repeateCount</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ns3::Sink::m_repeateCount = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>how many times the onion was sent at the current path length </p>

<p class="definition">Definition at line <a class="el" href="sink_8h_source.html#l00219">219</a> of file <a class="el" href="sink_8h_source.html">sink.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00330">CheckOnion()</a>, and <a class="el" href="sink_8cc_source.html#l00163">SinkTasks()</a>.</p>

</div>
</div>
<a id="ab8088aae6a8912c95324e42bf53bccbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8088aae6a8912c95324e42bf53bccbe">&#9670;&nbsp;</a></span>m_repeateTimes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ns3::Sink::m_repeateTimes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Integer specifying the number of times to generate the onion message for each value in the m_onionPathsLengths. </p>

<p class="definition">Definition at line <a class="el" href="sink_8h_source.html#l00218">218</a> of file <a class="el" href="sink_8h_source.html">sink.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00073">Setup()</a>, and <a class="el" href="sink_8cc_source.html#l00163">SinkTasks()</a>.</p>

</div>
</div>
<a id="a2743924af6449f4eaebec3a9d1f56fa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2743924af6449f4eaebec3a9d1f56fa8">&#9670;&nbsp;</a></span>m_secretkey</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string ns3::Sink::m_secretkey</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the encryption key: secretkey </p>

<p class="definition">Definition at line <a class="el" href="sink_8h_source.html#l00232">232</a> of file <a class="el" href="sink_8h_source.html">sink.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="sink_8cc_source.html#l00346">StartApplication()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/onion_routing_wsn/model/<a class="el" href="sink_8h_source.html">sink.h</a></li>
<li>src/onion_routing_wsn/model/<a class="el" href="sink_8cc_source.html">sink.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- ns-3 doxygen header, based on
     HTML header for doxygen 1.8.3.1
     Verified compatible with 1.8.6
-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacens3.html">ns3</a></li><li class="navelem"><a class="el" href="classns3_1_1_sink.html">Sink</a></li>
    <li class="footer">Generated on Mon Feb 7 2022 13:31:59 for ns-3 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
